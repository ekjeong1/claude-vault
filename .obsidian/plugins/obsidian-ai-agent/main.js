/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AIChatPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// ChatView.ts
var import_obsidian = require("obsidian");
var import_child_process2 = require("child_process");

// commandDetector.ts
var import_child_process = require("child_process");
var path = __toESM(require("path"));
var fs = __toESM(require("fs"));
var os = __toESM(require("os"));
var CommandDetector = class {
  static detectCommands(nodeOverride, claudeOverride) {
    if (nodeOverride || claudeOverride) {
      const platform3 = os.platform();
      const isWindows2 = platform3 === "win32";
      if (isWindows2 && this.isWSLAvailable()) {
        return {
          node: nodeOverride || this.detectNodeInWSL(),
          claude: claudeOverride || this.detectClaudeInWSL(),
          isWSL: true,
          wslPrefix: ["wsl"]
        };
      } else if (isWindows2 && !this.isWSLAvailable()) {
        throw new Error("WSL is required on Windows. Please install WSL to use this plugin.");
      } else {
        return {
          node: nodeOverride || this.detectNode(),
          claude: claudeOverride || this.detectClaude(),
          isWSL: false
        };
      }
    }
    if (this.cachedPaths) {
      return this.cachedPaths;
    }
    const platform2 = os.platform();
    const isWindows = platform2 === "win32";
    if (isWindows && this.isWSLAvailable()) {
      const nodePath = this.detectNodeInWSL();
      const claudePath = this.detectClaudeInWSL();
      this.cachedPaths = {
        node: nodePath,
        claude: claudePath,
        isWSL: true,
        wslPrefix: ["wsl"]
      };
    } else if (isWindows && !this.isWSLAvailable()) {
      throw new Error("WSL is required on Windows. Please install WSL to use this plugin.");
    } else {
      const nodePath = this.detectNode();
      const claudePath = this.detectClaude();
      this.cachedPaths = {
        node: nodePath,
        claude: claudePath,
        isWSL: false
      };
    }
    return this.cachedPaths;
  }
  static isWSLAvailable() {
    try {
      (0, import_child_process.execSync)("wsl --status", { encoding: "utf8" });
      return true;
    } catch (e) {
      return false;
    }
  }
  static detectNodeInWSL() {
    try {
      const result = (0, import_child_process.execSync)("wsl -- which node", { encoding: "utf8" }).trim();
      if (result) {
        return result;
      }
    } catch (e) {
    }
    const commonPaths = [
      "/usr/local/bin/node",
      "/usr/bin/node",
      "~/.nvm/current/bin/node",
      "/usr/local/nodejs/bin/node"
    ];
    for (const nodePath of commonPaths) {
      try {
        const testResult = (0, import_child_process.execSync)(`wsl -- test -f ${nodePath} && echo "exists"`, { encoding: "utf8" }).trim();
        if (testResult === "exists") {
          return nodePath;
        }
      } catch (e) {
      }
    }
    try {
      const nvmVersions = (0, import_child_process.execSync)("wsl -- ls -1 ~/.nvm/versions/node/ 2>/dev/null | sort -V | tail -1", { encoding: "utf8" }).trim();
      if (nvmVersions) {
        const latestNodePath = `~/.nvm/versions/node/${nvmVersions}/bin/node`;
        const testResult = (0, import_child_process.execSync)(`wsl -- test -f ${latestNodePath} && echo "exists"`, { encoding: "utf8" }).trim();
        if (testResult === "exists") {
          return latestNodePath;
        }
      }
    } catch (e) {
    }
    return "node";
  }
  static detectClaudeInWSL() {
    try {
      const result = (0, import_child_process.execSync)("wsl -- which claude", { encoding: "utf8" }).trim();
      if (result) {
        return result;
      }
    } catch (e) {
    }
    const commonPaths = [
      "/usr/local/bin/claude",
      "~/.claude/local/node_modules/.bin/claude",
      "~/.npm-global/bin/claude",
      "~/.local/share/npm/bin/claude"
    ];
    for (const claudePath of commonPaths) {
      try {
        const testResult = (0, import_child_process.execSync)(`wsl -- test -f ${claudePath} && echo "exists"`, { encoding: "utf8" }).trim();
        if (testResult === "exists") {
          return claudePath;
        }
      } catch (e) {
      }
    }
    try {
      const npmPrefix = (0, import_child_process.execSync)("wsl -- npm config get prefix", { encoding: "utf8" }).trim();
      if (npmPrefix) {
        const globalClaudePath = `${npmPrefix}/bin/claude`;
        const testResult = (0, import_child_process.execSync)(`wsl -- test -f ${globalClaudePath} && echo "exists"`, { encoding: "utf8" }).trim();
        if (testResult === "exists") {
          return globalClaudePath;
        }
      }
    } catch (e) {
    }
    return "claude";
  }
  static detectNode() {
    try {
      const result = (0, import_child_process.execSync)("which node", { encoding: "utf8" }).trim();
      return result || "node";
    } catch (e) {
      const commonPaths = this.getCommonNodePaths();
      for (const nodePath of commonPaths) {
        if (fs.existsSync(nodePath)) {
          return nodePath;
        }
      }
      return "node";
    }
  }
  static detectClaude() {
    try {
      const result = (0, import_child_process.execSync)("which claude", { encoding: "utf8" }).trim();
      return result || this.findClaudeInNodeModules();
    } catch (e) {
      return this.findClaudeInNodeModules();
    }
  }
  static findClaudeInNodeModules() {
    const homeDir = os.homedir();
    const claudePaths = this.getCommonClaudePaths(homeDir);
    for (const claudePath of claudePaths) {
      if (fs.existsSync(claudePath)) {
        return claudePath;
      }
    }
    const globalNpmPrefix = this.getGlobalNpmPrefix();
    if (globalNpmPrefix) {
      const globalClaudePath = path.join(globalNpmPrefix, "bin", "claude");
      if (fs.existsSync(globalClaudePath)) {
        return globalClaudePath;
      }
    }
    return "claude";
  }
  static getGlobalNpmPrefix() {
    try {
      return (0, import_child_process.execSync)("npm config get prefix", { encoding: "utf8" }).trim();
    } catch (e) {
      return null;
    }
  }
  static getCommonNodePaths() {
    const platform2 = os.platform();
    const homeDir = os.homedir();
    const paths = [];
    if (platform2 === "darwin") {
      paths.push(
        "/usr/local/bin/node",
        "/opt/homebrew/bin/node",
        "/usr/bin/node",
        path.join(homeDir, ".nvm", "current", "bin", "node")
      );
    } else {
      paths.push(
        "/usr/local/bin/node",
        "/usr/bin/node",
        path.join(homeDir, ".nvm", "current", "bin", "node")
      );
    }
    const nvmVersionsPath = path.join(homeDir, ".nvm", "versions", "node");
    if (fs.existsSync(nvmVersionsPath)) {
      try {
        const versions = fs.readdirSync(nvmVersionsPath).sort().reverse();
        for (const version of versions) {
          paths.push(path.join(nvmVersionsPath, version, "bin", "node"));
        }
      } catch (e) {
      }
    }
    return paths;
  }
  static getCommonClaudePaths(homeDir) {
    const paths = [
      path.join(homeDir, ".claude", "local", "node_modules", ".bin", "claude"),
      "/usr/local/lib/node_modules/.bin/claude",
      "/usr/local/bin/claude",
      path.join(homeDir, ".npm-global", "bin", "claude"),
      path.join(homeDir, ".local", "share", "npm", "bin", "claude")
    ];
    return paths;
  }
  static clearCache() {
    this.cachedPaths = null;
  }
};
CommandDetector.cachedPaths = null;

// ChatView.ts
var VIEW_TYPE_AI_CHAT = "ai-chat-view";
var AIChatView = class extends import_obsidian.ItemView {
  constructor(leaf, settings) {
    super(leaf);
    this.messages = [];
    this.currentSessionId = null;
    this.includeFileContext = true;
    this.currentClaudeProcess = null;
    this.isProcessing = false;
    this.settings = settings;
  }
  getViewType() {
    return VIEW_TYPE_AI_CHAT;
  }
  getDisplayText() {
    return "AI Chat";
  }
  getIcon() {
    return "sparkles";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("ai-chat-container");
    this.createChatInterface(container);
  }
  createChatInterface(container) {
    const headerEl = container.createEl("div", { cls: "ai-chat-header" });
    headerEl.createEl("div", {
      text: "AI Agent",
      cls: "ai-chat-title"
    });
    const buttonGroupEl = headerEl.createEl("div", { cls: "ai-header-buttons" });
    const examplesButton = buttonGroupEl.createEl("button", {
      text: "Examples",
      cls: "ai-examples-button"
    });
    const settingsButton = buttonGroupEl.createEl("button", {
      cls: "ai-settings-button",
      attr: { "aria-label": "Plugin settings" }
    });
    (0, import_obsidian.setIcon)(settingsButton, "settings");
    const newChatButton = buttonGroupEl.createEl("button", {
      cls: "ai-new-chat-button",
      attr: { "aria-label": "New chat" }
    });
    (0, import_obsidian.setIcon)(newChatButton, "plus");
    newChatButton.addEventListener("click", () => this.startNewChat());
    settingsButton.addEventListener("click", () => this.openSettings());
    examplesButton.addEventListener("click", () => {
      this.startNewChat();
      this.addExampleMessages();
    });
    this.chatContainer = container.createEl("div", { cls: "ai-chat-body" });
    this.messagesContainer = this.chatContainer.createEl("div", { cls: "ai-chat-messages" });
    this.inputContainer = container.createEl("div", { cls: "ai-chat-input-container" });
    this.fileContextHeader = this.inputContainer.createEl("div", { cls: "ai-file-context-header" });
    const fileContextToggle = this.fileContextHeader.createEl("div", {
      cls: "ai-file-context-toggle",
      attr: { "aria-label": "Add current page's context to message" }
    });
    const fileIcon = fileContextToggle.createEl("span", { cls: "ai-file-context-icon" });
    (0, import_obsidian.setIcon)(fileIcon, "file-text");
    const fileContextText = fileContextToggle.createEl("span", { cls: "ai-file-context-text" });
    this.updateFileContextDisplay(fileContextText);
    fileContextToggle.toggleClass("active", this.includeFileContext);
    fileContextToggle.addEventListener("click", () => {
      this.includeFileContext = !this.includeFileContext;
      fileContextToggle.toggleClass("active", this.includeFileContext);
      this.updateFileContextDisplay(fileContextText);
    });
    this.inputField = this.inputContainer.createEl("textarea", {
      cls: "ai-chat-input",
      attr: {
        placeholder: "Type your message (press Enter to send and Shift+Enter for a new line)...",
        rows: "3"
      }
    });
    const buttonContainer = this.inputContainer.createEl("div", { cls: "ai-chat-button-container" });
    this.loadingIndicator = buttonContainer.createEl("div", { cls: "ai-loading-indicator hidden" });
    this.loadingIndicator.createEl("div", { cls: "ai-loading-spinner" });
    this.sendButton = buttonContainer.createEl("button", {
      cls: "ai-chat-send-button",
      attr: { "aria-label": "Send message" }
    });
    (0, import_obsidian.setIcon)(this.sendButton, "corner-down-right");
    this.sendButton.addEventListener("click", () => this.handleButtonClick());
    this.inputField.addEventListener("keydown", (e) => {
      if (e.key === "Enter" && !e.shiftKey) {
        e.preventDefault();
        this.handleButtonClick();
      }
    });
    this.inputField.addEventListener("input", () => {
      this.autoResizeTextarea();
    });
    this.autoResizeTextarea();
  }
  autoResizeTextarea() {
    this.inputField.style.height = "auto";
    const computedStyle = getComputedStyle(this.inputField);
    const minHeight = parseFloat(computedStyle.minHeight);
    const newHeight = Math.max(this.inputField.scrollHeight, minHeight);
    this.inputField.style.height = newHeight + "px";
    const maxHeight = window.innerHeight * 0.5;
    if (newHeight > maxHeight) {
      this.inputField.style.height = maxHeight + "px";
    }
  }
  addMessage(message) {
    this.messages.push(message);
    this.renderMessage(message);
  }
  renderMessage(chatMessage) {
    try {
      let cssClass = "ai-chat-message";
      if (chatMessage.isUserInput) {
        cssClass += " ai-chat-message-user";
      } else if (chatMessage.type === "result") {
        cssClass += " ai-chat-message-final-response";
      } else {
        cssClass += " ai-chat-message-assistant";
      }
      const messageEl = this.messagesContainer.createEl("div", { cls: cssClass });
      if (chatMessage.type === "user" && !chatMessage.isUserInput) {
        this.renderThinkingMessage(messageEl, chatMessage);
      } else if (chatMessage.type === "assistant") {
        this.renderAssistantThought(messageEl, chatMessage);
      } else if (chatMessage.type === "result") {
        this.renderFinalResponse(messageEl, chatMessage);
      } else {
        const contentEl = messageEl.createEl("div", { cls: "ai-message-content" });
        this.renderMessageContent(contentEl, chatMessage);
      }
      if (chatMessage.timestamp && (chatMessage.isUserInput || chatMessage.type === "result")) {
        const timestampEl = messageEl.createEl("div", { cls: "ai-message-timestamp" });
        timestampEl.setText(chatMessage.timestamp.toLocaleTimeString());
      }
      requestAnimationFrame(() => {
        this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;
      });
    } catch (error) {
      console.error("Error rendering message:", error, chatMessage);
    }
  }
  getDisplayName(type, isUserInput = false) {
    switch (type) {
      case "user":
        return isUserInput ? "You" : "Claude";
      case "assistant":
        return "Claude";
      case "system":
        return "System";
      case "result":
        return "Claude";
      default:
        return type;
    }
  }
  renderMessageContent(container, chatMessage) {
    var _a;
    try {
      if ((_a = chatMessage.message) == null ? void 0 : _a.content) {
        chatMessage.message.content.forEach((content) => {
          if (content.type === "text") {
            const textEl = container.createEl("div", { cls: "ai-message-text" });
            textEl.innerHTML = this.formatText(content.text);
          } else if (content.type === "tool_use") {
            if (content.name === "TodoWrite") {
              this.renderTodoCard(container, content);
            } else {
              this.renderCollapsibleTool(container, content);
            }
          } else if (content.type === "tool_result") {
            const resultEl = container.createEl("div", { cls: "ai-tool-result" });
            const pre = resultEl.createEl("pre");
            const resultText = content.content || "No content";
            pre.createEl("code", { text: typeof resultText === "string" ? resultText : JSON.stringify(resultText, null, 2) });
          }
        });
      } else if (chatMessage.result) {
        const resultEl = container.createEl("div", { cls: "ai-final-result" });
        resultEl.innerHTML = this.formatText(chatMessage.result);
      } else if (chatMessage.subtype === "init") {
        container.createEl("div", {
          text: "Cooking...",
          cls: "ai-system-init"
        });
      } else if (chatMessage.subtype) {
        container.createEl("div", { text: `System: ${chatMessage.subtype}` });
      }
    } catch (error) {
      console.warn("Error rendering message content:", error, chatMessage);
      container.createEl("div", {
        text: "Error rendering message content",
        cls: "ai-error-message"
      });
    }
  }
  renderTodoCard(container, content) {
    var _a;
    const cardEl = container.createEl("div", { cls: "ai-todo-card" });
    const headerEl = cardEl.createEl("div", { cls: "ai-todo-header" });
    headerEl.createEl("span", { text: "Tasks", cls: "ai-todo-title" });
    if ((_a = content.input) == null ? void 0 : _a.todos) {
      const todosEl = cardEl.createEl("div", { cls: "ai-todos-list" });
      content.input.todos.forEach((todo) => {
        const todoEl = todosEl.createEl("div", { cls: "ai-todo-item" });
        const iconEl = todoEl.createEl("span", { cls: "ai-todo-status" });
        if (todo.status === "completed") {
          (0, import_obsidian.setIcon)(iconEl, "circle-check");
        } else if (todo.status === "in_progress") {
          (0, import_obsidian.setIcon)(iconEl, "circle-ellipsis");
        } else {
          (0, import_obsidian.setIcon)(iconEl, "circle");
        }
        todoEl.createEl("span", { text: todo.content, cls: "ai-todo-content" });
      });
    }
  }
  renderCollapsibleTool(container, content) {
    const toolEl = container.createEl("div", { cls: "ai-tool-collapsible" });
    const headerEl = toolEl.createEl("div", { cls: "ai-tool-header clickable" });
    headerEl.createEl("span", { text: `Using tool: ${content.name || "Unknown"}`, cls: "ai-tool-name" });
    const contentEl = toolEl.createEl("div", { cls: "ai-tool-content collapsed" });
    if (content.input) {
      const pre = contentEl.createEl("pre");
      pre.createEl("code", { text: JSON.stringify(content.input, null, 2) });
    }
    headerEl.addEventListener("click", () => {
      if (contentEl.hasClass("collapsed")) {
        contentEl.removeClass("collapsed");
      } else {
        contentEl.addClass("collapsed");
      }
    });
  }
  renderThinkingMessage(messageEl, chatMessage) {
    var _a, _b;
    const hasToolResults = (_b = (_a = chatMessage.message) == null ? void 0 : _a.content) == null ? void 0 : _b.some((content) => content.type === "tool_result");
    const headerText = hasToolResults ? "Tool result" : "Thinking...";
    const headerEl = messageEl.createEl("div", { cls: "ai-thinking-header clickable" });
    headerEl.createEl("span", { text: headerText, cls: "ai-thinking-label" });
    const contentEl = messageEl.createEl("div", { cls: "ai-thinking-content collapsed" });
    this.renderMessageContent(contentEl, chatMessage);
    headerEl.addEventListener("click", () => {
      if (contentEl.hasClass("collapsed")) {
        contentEl.removeClass("collapsed");
      } else {
        contentEl.addClass("collapsed");
      }
    });
  }
  renderAssistantThought(messageEl, chatMessage) {
    const contentEl = messageEl.createEl("div", { cls: "ai-message-content ai-self-thought" });
    this.renderMessageContent(contentEl, chatMessage);
  }
  renderFinalResponse(messageEl, chatMessage) {
    const contentEl = messageEl.createEl("div", { cls: "ai-message-content ai-final-response" });
    this.renderMessageContent(contentEl, chatMessage);
  }
  formatText(text) {
    return text.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>").replace(/\*(.*?)\*/g, "<em>$1</em>").replace(/`(.*?)`/g, "<code>$1</code>").replace(/\n/g, "<br>");
  }
  getCurrentFilePath() {
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      const vaultPath = this.app.vault.adapter.basePath;
      return `${vaultPath}/${activeFile.path}`;
    }
    return null;
  }
  updateFileContextDisplay(textElement) {
    textElement.setText("Current page");
  }
  handleButtonClick() {
    if (this.isProcessing) {
      this.cancelExecution();
    } else {
      this.handleSendMessage();
    }
  }
  cancelExecution() {
    if (this.currentClaudeProcess) {
      this.currentClaudeProcess.kill("SIGTERM");
      this.currentClaudeProcess = null;
      this.setProcessingState(false);
      const cancelMessage = {
        type: "system",
        result: "Message execution cancelled",
        session_id: this.currentSessionId || `session-${Date.now()}`,
        uuid: `cancel-${Date.now()}`,
        timestamp: new Date()
      };
      this.addMessage(cancelMessage);
    }
  }
  setProcessingState(processing) {
    this.isProcessing = processing;
    if (processing) {
      this.sendButton.empty();
      (0, import_obsidian.setIcon)(this.sendButton, "square");
      this.sendButton.setAttribute("aria-label", "Cancel processing");
      this.sendButton.addClass("ai-cancel-button");
      this.loadingIndicator.removeClass("hidden");
      this.inputField.disabled = true;
    } else {
      this.sendButton.empty();
      (0, import_obsidian.setIcon)(this.sendButton, "corner-down-right");
      this.sendButton.setAttribute("aria-label", "Send message");
      this.sendButton.removeClass("ai-cancel-button");
      this.loadingIndicator.addClass("hidden");
      this.inputField.disabled = false;
    }
  }
  async handleSendMessage() {
    const messageText = this.inputField.value.trim();
    if (messageText && !this.isProcessing) {
      let finalMessage = messageText;
      if (this.includeFileContext) {
        const currentFile = this.getCurrentFilePath();
        if (currentFile) {
          finalMessage = `Current file context: ${currentFile}

${messageText}`;
        }
      }
      if (this.settings.debugContext) {
        console.log("=== DEBUG CONTEXT START ===");
        console.log("Node.js location:", this.settings.nodeLocation || "auto-detect");
        console.log("Claude location:", this.settings.claudeLocation || "auto-detect");
        console.log("New message context:", {
          originalMessage: messageText,
          finalMessage,
          includeFileContext: this.includeFileContext,
          currentFile: this.includeFileContext ? this.getCurrentFilePath() : null,
          sessionId: this.currentSessionId
        });
        console.log("=== DEBUG CONTEXT END ===");
      }
      const userMessage = {
        type: "user",
        message: {
          id: `msg-${Date.now()}`,
          role: "user",
          content: [{ type: "text", text: messageText }]
          // Show original message in UI
        },
        session_id: `session-${Date.now()}`,
        uuid: `user-${Date.now()}`,
        timestamp: new Date(),
        isUserInput: true
        // Mark as actual user input
      };
      this.addMessage(userMessage);
      this.inputField.value = "";
      this.autoResizeTextarea();
      this.setProcessingState(true);
      await this.executeCommand(finalMessage);
      this.setProcessingState(false);
    }
  }
  async executeCommand(prompt) {
    return new Promise((resolve) => {
      var _a, _b;
      const vaultPath = this.app.vault.adapter.basePath;
      const echoProcess = (0, import_child_process2.spawn)("echo", [prompt], {
        cwd: vaultPath,
        env: { ...process.env, FORCE_COLOR: "0" }
      });
      const commands = CommandDetector.detectCommands(
        (_a = this.settings) == null ? void 0 : _a.nodeLocation,
        (_b = this.settings) == null ? void 0 : _b.claudeLocation
      );
      let claudeProcess;
      const claudeArgs = [
        commands.claude,
        "--output-format",
        "stream-json",
        "--permission-mode",
        "bypassPermissions",
        "--dangerously-skip-permissions",
        "--verbose"
      ];
      if (this.currentSessionId) {
        claudeArgs.push("--resume", this.currentSessionId);
      }
      if (commands.isWSL) {
        const fullArgs = [
          ...commands.wslPrefix,
          "--",
          commands.node,
          ...claudeArgs
        ];
        this.currentClaudeProcess = (0, import_child_process2.spawn)(fullArgs[0], fullArgs.slice(1), {
          cwd: vaultPath,
          // Same as Linux/Mac - let spawn handle the working directory
          env: { ...process.env, FORCE_COLOR: "0" }
        });
        claudeProcess = this.currentClaudeProcess;
        if (this.currentClaudeProcess.stdin) {
          this.currentClaudeProcess.stdin.write(prompt);
          this.currentClaudeProcess.stdin.end();
        }
      } else {
        this.currentClaudeProcess = (0, import_child_process2.spawn)(commands.node, claudeArgs, {
          cwd: vaultPath,
          env: { ...process.env, FORCE_COLOR: "0" }
        });
        if (echoProcess.stdout && this.currentClaudeProcess.stdin) {
          echoProcess.stdout.pipe(this.currentClaudeProcess.stdin);
        }
        claudeProcess = this.currentClaudeProcess;
      }
      let buffer = "";
      if (claudeProcess.stdout) {
        claudeProcess.stdout.on("data", (chunk) => {
          buffer += chunk.toString();
          const lines = buffer.split("\n");
          buffer = lines.pop() || "";
          for (const line of lines) {
            const trimmedLine = line.trim();
            if (trimmedLine) {
              try {
                const jsonObj = JSON.parse(trimmedLine);
                if (jsonObj && typeof jsonObj === "object" && jsonObj.type) {
                  this.processStreamingMessage(jsonObj);
                } else {
                  console.warn("Invalid message structure:", jsonObj);
                }
              } catch (parseError) {
                console.warn("Failed to parse JSON line:", trimmedLine, parseError);
                const errorMessage = {
                  type: "system",
                  result: `Parse error: ${parseError instanceof Error ? parseError.message : String(parseError)}`,
                  session_id: this.currentSessionId || `session-${Date.now()}`,
                  uuid: `error-${Date.now()}`,
                  timestamp: new Date()
                };
                this.addMessage(errorMessage);
              }
            }
          }
        });
      }
      if (claudeProcess.stderr) {
        claudeProcess.stderr.on("data", (chunk) => {
          const errorMessage = {
            type: "system",
            result: `Claude Error: ${chunk.toString()}`,
            session_id: `session-${Date.now()}`,
            uuid: `error-${Date.now()}`,
            timestamp: new Date()
          };
          this.addMessage(errorMessage);
        });
      }
      claudeProcess.on("close", (code) => {
        if (code !== 0 && code !== null) {
          const errorMessage = {
            type: "system",
            result: `Claude process exited with code ${code}`,
            session_id: `session-${Date.now()}`,
            uuid: `error-${Date.now()}`,
            timestamp: new Date()
          };
          this.addMessage(errorMessage);
        }
        this.currentClaudeProcess = null;
        resolve();
      });
      claudeProcess.on("error", (error) => {
        const errorMessage = {
          type: "system",
          result: `Claude command failed: ${error.message}`,
          session_id: `session-${Date.now()}`,
          uuid: `error-${Date.now()}`,
          timestamp: new Date()
        };
        this.addMessage(errorMessage);
        resolve();
      });
    });
  }
  processStreamingMessage(jsonObj) {
    if (this.settings.debugContext) {
      console.log("=== STREAMING MESSAGE DEBUG ===");
      console.log("Received streaming message:", jsonObj);
    }
    if (jsonObj.type === "system" && jsonObj.subtype === "init") {
      if (jsonObj.session_id && !this.currentSessionId) {
        this.currentSessionId = jsonObj.session_id;
      }
      const systemMessage = {
        type: "system",
        subtype: "init",
        session_id: jsonObj.session_id || `session-${Date.now()}`,
        uuid: `system-${Date.now()}`,
        timestamp: new Date()
      };
      this.addMessage(systemMessage);
    } else if (jsonObj.type === "assistant" && jsonObj.message) {
      const assistantMessage = {
        type: "assistant",
        message: jsonObj.message,
        session_id: jsonObj.session_id || `session-${Date.now()}`,
        uuid: `assistant-${Date.now()}`,
        timestamp: new Date()
      };
      this.addMessage(assistantMessage);
    } else if (jsonObj.type === "user" && jsonObj.message) {
      const toolResultMessage = {
        type: "user",
        message: jsonObj.message,
        session_id: jsonObj.session_id || `session-${Date.now()}`,
        uuid: `tool-result-${Date.now()}`,
        timestamp: new Date()
      };
      this.addMessage(toolResultMessage);
    } else if (jsonObj.type === "result") {
      const resultMessage = {
        type: "result",
        subtype: jsonObj.subtype || "success",
        duration_ms: jsonObj.duration_ms || 0,
        duration_api_ms: jsonObj.duration_api_ms || 0,
        is_error: jsonObj.is_error || false,
        num_turns: jsonObj.num_turns || 1,
        result: jsonObj.result,
        session_id: jsonObj.session_id || `session-${Date.now()}`,
        total_cost_usd: jsonObj.total_cost_usd,
        uuid: `result-${Date.now()}`,
        timestamp: new Date()
      };
      this.addMessage(resultMessage);
    }
  }
  startNewChat() {
    if (this.isProcessing) {
      this.cancelExecution();
    }
    this.currentSessionId = null;
    this.messages = [];
    this.messagesContainer.empty();
  }
  addExampleMessages() {
    const exampleSessionId = "4e639301-8fe0-4d70-a47e-db0b0605effa";
    const userMessage = {
      type: "user",
      message: {
        id: "msg-user-001",
        role: "user",
        content: [{ type: "text", text: "Could you make a plan for finding the date, execute the necessary steps, and then tell me the current datetime?" }]
      },
      session_id: exampleSessionId,
      uuid: "user-example-001",
      timestamp: new Date(),
      isUserInput: true
    };
    this.addMessage(userMessage);
    const systemInitMessage = {
      type: "system",
      subtype: "init",
      session_id: exampleSessionId,
      uuid: "system-init-001",
      timestamp: new Date()
    };
    this.addMessage(systemInitMessage);
    const assistantTextMessage = {
      type: "assistant",
      message: {
        id: "msg_01QKejYVNzKEvJiLdgsjDnX8",
        role: "assistant",
        content: [{ type: "text", text: "I'll help you find the current datetime. Let me create a plan and execute it." }],
        model: "claude-sonnet-4-20250514",
        usage: {
          input_tokens: 4,
          output_tokens: 7,
          service_tier: "standard"
        }
      },
      session_id: exampleSessionId,
      uuid: "assistant-text-001",
      timestamp: new Date()
    };
    this.addMessage(assistantTextMessage);
    const todoToolMessage = {
      type: "assistant",
      message: {
        id: "msg_01TodoExample",
        role: "assistant",
        content: [{
          type: "tool_use",
          id: "toolu_01XraaAU5TbdkpPhUq9Gepry",
          name: "TodoWrite",
          input: {
            todos: [
              { content: "Get current datetime using system command", status: "pending", activeForm: "Getting current datetime using system command" },
              { content: "Format and display the result", status: "pending", activeForm: "Formatting and displaying the result" }
            ]
          }
        }],
        model: "claude-sonnet-4-20250514"
      },
      session_id: exampleSessionId,
      uuid: "todo-tool-001",
      timestamp: new Date()
    };
    this.addMessage(todoToolMessage);
    const toolResultMessage = {
      type: "user",
      message: {
        id: "msg-tool-result-001",
        role: "user",
        content: [{
          tool_use_id: "toolu_01XraaAU5TbdkpPhUq9Gepry",
          type: "tool_result",
          content: "Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"
        }]
      },
      session_id: exampleSessionId,
      uuid: "tool-result-001",
      timestamp: new Date()
    };
    this.addMessage(toolResultMessage);
    const bashToolMessage = {
      type: "assistant",
      message: {
        id: "msg_01BashExample",
        role: "assistant",
        content: [{
          type: "tool_use",
          id: "toolu_0145mNNv4HW3V7LUTNwitdwd",
          name: "Bash",
          input: {
            command: "date",
            description: "Get current date and time"
          }
        }],
        model: "claude-sonnet-4-20250514"
      },
      session_id: exampleSessionId,
      uuid: "bash-tool-001",
      timestamp: new Date()
    };
    this.addMessage(bashToolMessage);
    const bashResultMessage = {
      type: "user",
      message: {
        id: "msg-bash-result-001",
        role: "user",
        content: [{
          tool_use_id: "toolu_0145mNNv4HW3V7LUTNwitdwd",
          type: "tool_result",
          content: "Wed 27 Aug 2025 09:54:15 EDT",
          is_error: false
        }]
      },
      session_id: exampleSessionId,
      uuid: "bash-result-001",
      timestamp: new Date()
    };
    this.addMessage(bashResultMessage);
    const todoUpdateMessage = {
      type: "assistant",
      message: {
        id: "msg_01TodoUpdate",
        role: "assistant",
        content: [{
          type: "tool_use",
          id: "toolu_01TodoComplete",
          name: "TodoWrite",
          input: {
            todos: [
              { content: "Get current datetime using system command", status: "completed", activeForm: "Getting current datetime using system command" },
              { content: "Format and display the result", status: "in_progress", activeForm: "Formatting and displaying the result" }
            ]
          }
        }],
        model: "claude-sonnet-4-20250514"
      },
      session_id: exampleSessionId,
      uuid: "todo-update-001",
      timestamp: new Date()
    };
    this.addMessage(todoUpdateMessage);
    const finalResultMessage = {
      type: "result",
      result: "The current datetime is: **Wednesday, August 27, 2025 at 9:54:15 AM EDT**",
      session_id: exampleSessionId,
      uuid: "final-result-001",
      timestamp: new Date()
    };
    this.addMessage(finalResultMessage);
  }
  openSettings() {
    this.app.setting.open();
    this.app.setting.openTabById("obsidian-terminal-ai");
  }
  async onClose() {
    if (this.currentClaudeProcess) {
      this.currentClaudeProcess.kill("SIGTERM");
      this.currentClaudeProcess = null;
    }
  }
  updateSettings(settings) {
    this.settings = settings;
  }
};

// SettingsTab.ts
var import_obsidian2 = require("obsidian");
var AIChatSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian2.Setting(containerEl).setName("Node.js location").setDesc("Path to Node.js executable. Leave empty to auto-detect.").addText((text) => text.setPlaceholder("Auto-detect (e.g., /usr/local/bin/node)").setValue(this.plugin.settings.nodeLocation || "").onChange(async (value) => {
      this.plugin.settings.nodeLocation = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian2.Setting(containerEl).setName("Claude Code location").setDesc("Path to Claude Code executable. Leave empty to auto-detect.").addText((text) => text.setPlaceholder("Auto-detect (e.g., ~/.claude/local/node_modules/.bin/claude)").setValue(this.plugin.settings.claudeLocation || "").onChange(async (value) => {
      this.plugin.settings.claudeLocation = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian2.Setting(containerEl).setName("Debug context").setDesc("Enable debug logging for troubleshooting (logs to console).").addDropdown((dropdown) => dropdown.addOption("false", "Disabled").addOption("true", "Enabled").setValue(String(this.plugin.settings.debugContext || false)).onChange(async (value) => {
      this.plugin.settings.debugContext = value === "true";
      await this.plugin.saveSettings();
    }));
  }
};

// types.ts
var DEFAULT_SETTINGS = {
  nodeLocation: "",
  claudeLocation: "",
  debugContext: false
};

// main.ts
var AIChatPlugin = class extends import_obsidian3.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_AI_CHAT,
      (leaf) => new AIChatView(leaf, this.settings)
    );
    if (this.app.workspace.layoutReady) {
      await this.activateView();
    } else {
      this.app.workspace.onLayoutReady(async () => {
        await this.activateView();
      });
    }
    this.addSettingTab(new AIChatSettingTab(this.app, this));
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(VIEW_TYPE_AI_CHAT);
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_AI_CHAT);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      if (leaf) {
        await leaf.setViewState({ type: VIEW_TYPE_AI_CHAT, active: true });
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJDaGF0Vmlldy50cyIsICJjb21tYW5kRGV0ZWN0b3IudHMiLCAiU2V0dGluZ3NUYWIudHMiLCAidHlwZXMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEFJQ2hhdFZpZXcsIFZJRVdfVFlQRV9BSV9DSEFUIH0gZnJvbSAnLi9DaGF0Vmlldyc7XG5pbXBvcnQgeyBBSUNoYXRTZXR0aW5nVGFiIH0gZnJvbSAnLi9TZXR0aW5nc1RhYic7XG5pbXBvcnQgeyBBSUNoYXRTZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBSUNoYXRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQUlDaGF0U2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBSZWdpc3RlciB0aGUgY3VzdG9tIHZpZXdcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdFZJRVdfVFlQRV9BSV9DSEFULFxuXHRcdFx0KGxlYWYpID0+IG5ldyBBSUNoYXRWaWV3KGxlYWYsIHRoaXMuc2V0dGluZ3MpXG5cdFx0KTtcblxuXHRcdC8vIE9wZW4gdGhlIHZpZXcgaW4gdGhlIHJpZ2h0IHNpZGViYXIgYnkgZGVmYXVsdFxuXHRcdGlmICh0aGlzLmFwcC53b3Jrc3BhY2UubGF5b3V0UmVhZHkpIHtcblx0XHRcdGF3YWl0IHRoaXMuYWN0aXZhdGVWaWV3KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KGFzeW5jICgpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEFJQ2hhdFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdC8vIERldGFjaCBsZWF2ZXMgd2l0aCBvdXIgdmlldyB0eXBlIHdoZW4gdW5sb2FkaW5nXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShWSUVXX1RZUEVfQUlfQ0hBVCk7XG5cdH1cblxuXHRhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXG5cdFx0bGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcblx0XHRjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9BSV9DSEFUKTtcblxuXHRcdGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0Ly8gQSBsZWFmIHdpdGggb3VyIHZpZXcgYWxyZWFkeSBleGlzdHMsIHVzZSBpdFxuXHRcdFx0bGVhZiA9IGxlYXZlc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gT3VyIHZpZXcgZG9lc24ndCBleGlzdCwgY3JlYXRlIGEgbmV3IGxlYWYgaW4gdGhlIHJpZ2h0IHNpZGViYXJcblx0XHRcdGxlYWYgPSB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcblx0XHRcdGlmIChsZWFmKSB7XG5cdFx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogVklFV19UWVBFX0FJX0NIQVQsIGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZXZlYWwgdGhlIGxlYWYgaW4gY2FzZSBpdCdzIGhpZGRlblxuXHRcdGlmIChsZWFmKSB7XG5cdFx0XHR3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgeyBBSUNoYXRTZXR0aW5ncyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgc3Bhd24sIENoaWxkUHJvY2VzcyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHsgQ29tbWFuZERldGVjdG9yIH0gZnJvbSAnLi9jb21tYW5kRGV0ZWN0b3InO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0FJX0NIQVQgPSAnYWktY2hhdC12aWV3JztcblxuaW50ZXJmYWNlIFRleHRCbG9jayB7XG5cdHR5cGU6IFwidGV4dFwiO1xuXHR0ZXh0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBUb29sVXNlQmxvY2sge1xuXHR0eXBlOiBcInRvb2xfdXNlXCI7XG5cdGlkOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0aW5wdXQ6IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbmludGVyZmFjZSBUb29sUmVzdWx0QmxvY2sge1xuXHR0eXBlOiBcInRvb2xfcmVzdWx0XCI7XG5cdHRvb2xfdXNlX2lkOiBzdHJpbmc7XG5cdGNvbnRlbnQ/OiBzdHJpbmc7XG5cdGlzX2Vycm9yPzogYm9vbGVhbjtcbn1cblxudHlwZSBDb250ZW50QmxvY2sgPSBUZXh0QmxvY2sgfCBUb29sVXNlQmxvY2sgfCBUb29sUmVzdWx0QmxvY2s7XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcblx0aWQ6IHN0cmluZztcblx0cm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cdGNvbnRlbnQ6IENvbnRlbnRCbG9ja1tdO1xuXHRtb2RlbD86IHN0cmluZztcblx0dXNhZ2U/OiB7XG5cdFx0aW5wdXRfdG9rZW5zPzogbnVtYmVyO1xuXHRcdG91dHB1dF90b2tlbnM/OiBudW1iZXI7XG5cdFx0c2VydmljZV90aWVyPzogc3RyaW5nO1xuXHR9O1xufVxuXG5pbnRlcmZhY2UgQ2hhdE1lc3NhZ2Uge1xuXHR0eXBlOiBcImFzc2lzdGFudFwiIHwgXCJ1c2VyXCIgfCBcInJlc3VsdFwiIHwgXCJzeXN0ZW1cIjtcblx0bWVzc2FnZT86IE1lc3NhZ2U7XG5cdHN1YnR5cGU/OiBcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIiB8IFwiaW5pdFwiO1xuXHRkdXJhdGlvbl9tcz86IG51bWJlcjtcblx0ZHVyYXRpb25fYXBpX21zPzogbnVtYmVyO1xuXHRpc19lcnJvcj86IGJvb2xlYW47XG5cdG51bV90dXJucz86IG51bWJlcjtcblx0cmVzdWx0Pzogc3RyaW5nO1xuXHRzZXNzaW9uX2lkOiBzdHJpbmc7XG5cdHRvdGFsX2Nvc3RfdXNkPzogbnVtYmVyO1xuXHR1dWlkOiBzdHJpbmc7XG5cdHRpbWVzdGFtcD86IERhdGU7XG5cdGlzVXNlcklucHV0PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFJQ2hhdFZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG5cdHNldHRpbmdzOiBBSUNoYXRTZXR0aW5ncztcblx0bWVzc2FnZXM6IENoYXRNZXNzYWdlW10gPSBbXTtcblx0Y2hhdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cdG1lc3NhZ2VzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcblx0aW5wdXRDb250YWluZXI6IEhUTUxFbGVtZW50O1xuXHRpbnB1dEZpZWxkOiBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXHRjdXJyZW50U2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblx0aW5jbHVkZUZpbGVDb250ZXh0OiBib29sZWFuID0gdHJ1ZTtcblx0ZmlsZUNvbnRleHRIZWFkZXI6IEhUTUxFbGVtZW50O1xuXHRjdXJyZW50Q2xhdWRlUHJvY2VzczogQ2hpbGRQcm9jZXNzIHwgbnVsbCA9IG51bGw7XG5cdGlzUHJvY2Vzc2luZzogYm9vbGVhbiA9IGZhbHNlO1xuXHRzZW5kQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcblx0bG9hZGluZ0luZGljYXRvcjogSFRNTEVsZW1lbnQ7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgc2V0dGluZ3M6IEFJQ2hhdFNldHRpbmdzKSB7XG5cdFx0c3VwZXIobGVhZik7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKSB7XG5cdFx0cmV0dXJuIFZJRVdfVFlQRV9BSV9DSEFUO1xuXHR9XG5cblx0Z2V0RGlzcGxheVRleHQoKSB7XG5cdFx0cmV0dXJuICdBSSBDaGF0Jztcblx0fVxuXG5cdGdldEljb24oKSB7XG5cdFx0cmV0dXJuICdzcGFya2xlcyc7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ2FpLWNoYXQtY29udGFpbmVyJyk7XG5cblx0XHR0aGlzLmNyZWF0ZUNoYXRJbnRlcmZhY2UoY29udGFpbmVyKTtcblx0fVxuXG5cdGNyZWF0ZUNoYXRJbnRlcmZhY2UoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuXHRcdC8vIEFkZCBoZWFkZXIgd2l0aCBuZXcgY2hhdCBidXR0b25cblx0XHRjb25zdCBoZWFkZXJFbCA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS1jaGF0LWhlYWRlcicgfSk7XG5cdFx0XG5cdFx0aGVhZGVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgXG5cdFx0XHR0ZXh0OiAnQUkgQWdlbnQnLFxuXHRcdFx0Y2xzOiAnYWktY2hhdC10aXRsZSdcblx0XHR9KTtcblx0XHRcblx0XHRjb25zdCBidXR0b25Hcm91cEVsID0gaGVhZGVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktaGVhZGVyLWJ1dHRvbnMnIH0pO1xuXHRcdFxuXHRcdGNvbnN0IGV4YW1wbGVzQnV0dG9uID0gYnV0dG9uR3JvdXBFbC5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0dGV4dDogJ0V4YW1wbGVzJyxcblx0XHRcdGNsczogJ2FpLWV4YW1wbGVzLWJ1dHRvbidcblx0XHR9KTtcblxuXHRcdGNvbnN0IHNldHRpbmdzQnV0dG9uID0gYnV0dG9uR3JvdXBFbC5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0Y2xzOiAnYWktc2V0dGluZ3MtYnV0dG9uJyxcblx0XHRcdGF0dHI6IHsgJ2FyaWEtbGFiZWwnOiAnUGx1Z2luIHNldHRpbmdzJyB9XG5cdFx0fSk7XG5cdFx0c2V0SWNvbihzZXR0aW5nc0J1dHRvbiwgJ3NldHRpbmdzJyk7XG5cblx0XHRjb25zdCBuZXdDaGF0QnV0dG9uID0gYnV0dG9uR3JvdXBFbC5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0Y2xzOiAnYWktbmV3LWNoYXQtYnV0dG9uJyxcblx0XHRcdGF0dHI6IHsgJ2FyaWEtbGFiZWwnOiAnTmV3IGNoYXQnIH1cblx0XHR9KTtcblx0XHRzZXRJY29uKG5ld0NoYXRCdXR0b24sICdwbHVzJyk7XG5cdFx0XHRcdFxuXHRcdG5ld0NoYXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnN0YXJ0TmV3Q2hhdCgpKTtcblx0XHRzZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMub3BlblNldHRpbmdzKCkpO1xuXHRcdGV4YW1wbGVzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5zdGFydE5ld0NoYXQoKTsgLy8gQ2xlYXIgZXhpc3RpbmcgbWVzc2FnZXMgZmlyc3Rcblx0XHRcdHRoaXMuYWRkRXhhbXBsZU1lc3NhZ2VzKCk7IC8vIEFkZCBleGFtcGxlIG1lc3NhZ2VzXG5cdFx0fSk7XG5cblx0XHR0aGlzLmNoYXRDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktY2hhdC1ib2R5JyB9KTtcblxuXHRcdHRoaXMubWVzc2FnZXNDb250YWluZXIgPSB0aGlzLmNoYXRDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktY2hhdC1tZXNzYWdlcycgfSk7XG5cblx0XHR0aGlzLmlucHV0Q29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2FpLWNoYXQtaW5wdXQtY29udGFpbmVyJyB9KTtcblx0XHRcblx0XHQvLyBBZGQgZmlsZSBjb250ZXh0IGhlYWRlciBhYm92ZSB0aGUgaW5wdXQgZmllbGRcblx0XHR0aGlzLmZpbGVDb250ZXh0SGVhZGVyID0gdGhpcy5pbnB1dENvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS1maWxlLWNvbnRleHQtaGVhZGVyJyB9KTtcblx0XHRjb25zdCBmaWxlQ29udGV4dFRvZ2dsZSA9IHRoaXMuZmlsZUNvbnRleHRIZWFkZXIuY3JlYXRlRWwoJ2RpdicsIHsgXG5cdFx0XHRjbHM6ICdhaS1maWxlLWNvbnRleHQtdG9nZ2xlJyxcblx0XHRcdGF0dHI6IHsgJ2FyaWEtbGFiZWwnOiAnQWRkIGN1cnJlbnQgcGFnZVxcJ3MgY29udGV4dCB0byBtZXNzYWdlJyB9XG5cdFx0fSk7XG5cdFx0XG5cdFx0Y29uc3QgZmlsZUljb24gPSBmaWxlQ29udGV4dFRvZ2dsZS5jcmVhdGVFbCgnc3BhbicsIHsgY2xzOiAnYWktZmlsZS1jb250ZXh0LWljb24nIH0pO1xuXHRcdHNldEljb24oZmlsZUljb24sICdmaWxlLXRleHQnKTtcblx0XHRcblx0XHRjb25zdCBmaWxlQ29udGV4dFRleHQgPSBmaWxlQ29udGV4dFRvZ2dsZS5jcmVhdGVFbCgnc3BhbicsIHsgY2xzOiAnYWktZmlsZS1jb250ZXh0LXRleHQnIH0pO1xuXHRcdHRoaXMudXBkYXRlRmlsZUNvbnRleHREaXNwbGF5KGZpbGVDb250ZXh0VGV4dCk7XG5cdFx0XG5cdFx0Ly8gU2V0IGluaXRpYWwgYWN0aXZlIHN0YXRlIGJhc2VkIG9uIGluY2x1ZGVGaWxlQ29udGV4dFxuXHRcdGZpbGVDb250ZXh0VG9nZ2xlLnRvZ2dsZUNsYXNzKCdhY3RpdmUnLCB0aGlzLmluY2x1ZGVGaWxlQ29udGV4dCk7XG5cdFx0XG5cdFx0ZmlsZUNvbnRleHRUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmluY2x1ZGVGaWxlQ29udGV4dCA9ICF0aGlzLmluY2x1ZGVGaWxlQ29udGV4dDtcblx0XHRcdGZpbGVDb250ZXh0VG9nZ2xlLnRvZ2dsZUNsYXNzKCdhY3RpdmUnLCB0aGlzLmluY2x1ZGVGaWxlQ29udGV4dCk7XG5cdFx0XHR0aGlzLnVwZGF0ZUZpbGVDb250ZXh0RGlzcGxheShmaWxlQ29udGV4dFRleHQpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdHRoaXMuaW5wdXRGaWVsZCA9IHRoaXMuaW5wdXRDb250YWluZXIuY3JlYXRlRWwoJ3RleHRhcmVhJywge1xuXHRcdFx0Y2xzOiAnYWktY2hhdC1pbnB1dCcsXG5cdFx0XHRhdHRyOiB7XG5cdFx0XHRcdHBsYWNlaG9sZGVyOiAnVHlwZSB5b3VyIG1lc3NhZ2UgKHByZXNzIEVudGVyIHRvIHNlbmQgYW5kIFNoaWZ0K0VudGVyIGZvciBhIG5ldyBsaW5lKS4uLicsXG5cdFx0XHRcdHJvd3M6ICczJ1xuXHRcdFx0fVxuXHRcdH0pIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG5cblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSB0aGlzLmlucHV0Q29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2FpLWNoYXQtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cdFx0XG5cdFx0Ly8gQ3JlYXRlIGxvYWRpbmcgaW5kaWNhdG9yIChpbml0aWFsbHkgaGlkZGVuKVxuXHRcdHRoaXMubG9hZGluZ0luZGljYXRvciA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS1sb2FkaW5nLWluZGljYXRvciBoaWRkZW4nIH0pO1xuXHRcdHRoaXMubG9hZGluZ0luZGljYXRvci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS1sb2FkaW5nLXNwaW5uZXInIH0pO1xuXHRcdFxuXHRcdHRoaXMuc2VuZEJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0Y2xzOiAnYWktY2hhdC1zZW5kLWJ1dHRvbicsXG5cdFx0XHRhdHRyOiB7ICdhcmlhLWxhYmVsJzogJ1NlbmQgbWVzc2FnZScgfVxuXHRcdH0pIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXHRcdHNldEljb24odGhpcy5zZW5kQnV0dG9uLCAnY29ybmVyLWRvd24tcmlnaHQnKTtcblxuXHRcdHRoaXMuc2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuaGFuZGxlQnV0dG9uQ2xpY2soKSk7XG5cdFx0dGhpcy5pbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdFx0aWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0dGhpcy5oYW5kbGVCdXR0b25DbGljaygpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gU2hpZnQrRW50ZXIgYWxsb3dzIG5vcm1hbCBuZXdsaW5lIGJlaGF2aW9yXG5cdFx0fSk7XG5cblx0XHQvLyBBdXRvLXJlc2l6ZSBmdW5jdGlvbmFsaXR5XG5cdFx0dGhpcy5pbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuXHRcdFx0dGhpcy5hdXRvUmVzaXplVGV4dGFyZWEoKTtcblx0XHR9KTtcblxuXHRcdC8vIFNldCBpbml0aWFsIGhlaWdodFxuXHRcdHRoaXMuYXV0b1Jlc2l6ZVRleHRhcmVhKCk7XG5cdH1cblxuXHRhdXRvUmVzaXplVGV4dGFyZWEoKSB7XG5cdFx0Ly8gUmVzZXQgaGVpZ2h0IHRvIGF1dG8gdG8gZ2V0IHRoZSBuYXR1cmFsIGhlaWdodFxuXHRcdHRoaXMuaW5wdXRGaWVsZC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG5cdFx0XG5cdFx0Ly8gR2V0IHRoZSBDU1MgbWluLWhlaWdodCB2YWx1ZSAoMi41cmVtKVxuXHRcdGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuaW5wdXRGaWVsZCk7XG5cdFx0Y29uc3QgbWluSGVpZ2h0ID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLm1pbkhlaWdodCk7XG5cdFx0XG5cdFx0Ly8gVXNlIHRoZSBsYXJnZXIgb2Ygc2Nyb2xsIGhlaWdodCBvciBtaW4taGVpZ2h0XG5cdFx0Y29uc3QgbmV3SGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5pbnB1dEZpZWxkLnNjcm9sbEhlaWdodCwgbWluSGVpZ2h0KTtcblx0XHR0aGlzLmlucHV0RmllbGQuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4Jztcblx0XHRcblx0XHQvLyBFbnN1cmUgaXQgZG9lc24ndCBleGNlZWQgdGhlIENTUyBtYXgtaGVpZ2h0ICg1MHZoKVxuXHRcdGNvbnN0IG1heEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuNTsgLy8gNTB2aFxuXHRcdGlmIChuZXdIZWlnaHQgPiBtYXhIZWlnaHQpIHtcblx0XHRcdHRoaXMuaW5wdXRGaWVsZC5zdHlsZS5oZWlnaHQgPSBtYXhIZWlnaHQgKyAncHgnO1xuXHRcdH1cblx0fVxuXG5cdGFkZE1lc3NhZ2UobWVzc2FnZTogQ2hhdE1lc3NhZ2UpIHtcblx0XHR0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG5cdFx0dGhpcy5yZW5kZXJNZXNzYWdlKG1lc3NhZ2UpO1xuXHR9XG5cblx0cmVuZGVyTWVzc2FnZShjaGF0TWVzc2FnZTogQ2hhdE1lc3NhZ2UpIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gRGV0ZXJtaW5lIHRoZSBDU1MgY2xhc3MgYmFzZWQgb24gbWVzc2FnZSB0eXBlIGFuZCBvcmlnaW5cblx0XHRcdGxldCBjc3NDbGFzcyA9ICdhaS1jaGF0LW1lc3NhZ2UnO1xuXHRcdFx0aWYgKGNoYXRNZXNzYWdlLmlzVXNlcklucHV0KSB7XG5cdFx0XHRcdGNzc0NsYXNzICs9ICcgYWktY2hhdC1tZXNzYWdlLXVzZXInO1xuXHRcdFx0fSBlbHNlIGlmIChjaGF0TWVzc2FnZS50eXBlID09PSAncmVzdWx0Jykge1xuXHRcdFx0XHQvLyBGaW5hbCByZXNwb25zZSBnZXRzIHNwZWNpYWwgc3R5bGluZ1xuXHRcdFx0XHRjc3NDbGFzcyArPSAnIGFpLWNoYXQtbWVzc2FnZS1maW5hbC1yZXNwb25zZSc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBBbGwgb3RoZXIgQ2xhdWRlIG1lc3NhZ2VzIChhc3Npc3RhbnQsIHVzZXIgZnJvbSBzdHJlYW0sIHN5c3RlbSkgZ2V0IGFzc2lzdGFudCBzdHlsaW5nXG5cdFx0XHRcdGNzc0NsYXNzICs9ICcgYWktY2hhdC1tZXNzYWdlLWFzc2lzdGFudCc7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IG1lc3NhZ2VFbCA9IHRoaXMubWVzc2FnZXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiBjc3NDbGFzcyB9KTtcblx0XHRcdFxuXHRcdFx0Ly8gSGFuZGxlIGRpZmZlcmVudCBtZXNzYWdlIHR5cGVzIHdpdGggc3BlY2lhbCB0cmVhdG1lbnRzXG5cdFx0XHRpZiAoY2hhdE1lc3NhZ2UudHlwZSA9PT0gJ3VzZXInICYmICFjaGF0TWVzc2FnZS5pc1VzZXJJbnB1dCkge1xuXHRcdFx0XHQvLyBDbGF1ZGUncyBzZWxmLXRob3VnaHQgcHJlc2VudGVkIGFzIFwiVGhpbmtpbmcuLi5cIlxuXHRcdFx0XHR0aGlzLnJlbmRlclRoaW5raW5nTWVzc2FnZShtZXNzYWdlRWwsIGNoYXRNZXNzYWdlKTtcblx0XHRcdH0gZWxzZSBpZiAoY2hhdE1lc3NhZ2UudHlwZSA9PT0gJ2Fzc2lzdGFudCcpIHtcblx0XHRcdFx0Ly8gQ2xhdWRlJ3Mgc2VsZi10aG91Z2h0IC0gc2hvdyB3aXRob3V0IGNvbGxhcHNlXG5cdFx0XHRcdHRoaXMucmVuZGVyQXNzaXN0YW50VGhvdWdodChtZXNzYWdlRWwsIGNoYXRNZXNzYWdlKTtcblx0XHRcdH0gZWxzZSBpZiAoY2hhdE1lc3NhZ2UudHlwZSA9PT0gJ3Jlc3VsdCcpIHtcblx0XHRcdFx0Ly8gRmluYWwgYXNzaXN0YW50IHJlc3BvbnNlXG5cdFx0XHRcdHRoaXMucmVuZGVyRmluYWxSZXNwb25zZShtZXNzYWdlRWwsIGNoYXRNZXNzYWdlKTtcblx0XHRcdH0gZWxzZSB7XHRcdFx0XG5cdFx0XHRcdGNvbnN0IGNvbnRlbnRFbCA9IG1lc3NhZ2VFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS1tZXNzYWdlLWNvbnRlbnQnIH0pO1xuXHRcdFx0XHR0aGlzLnJlbmRlck1lc3NhZ2VDb250ZW50KGNvbnRlbnRFbCwgY2hhdE1lc3NhZ2UpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBPbmx5IHNob3cgdGltZXN0YW1wcyBmb3IgdXNlciBpbnB1dCBtZXNzYWdlcyBhbmQgZmluYWwgcmVzdWx0IG1lc3NhZ2VzXG5cdFx0XHRpZiAoY2hhdE1lc3NhZ2UudGltZXN0YW1wICYmIChjaGF0TWVzc2FnZS5pc1VzZXJJbnB1dCB8fCBjaGF0TWVzc2FnZS50eXBlID09PSAncmVzdWx0JykpIHtcblx0XHRcdFx0Y29uc3QgdGltZXN0YW1wRWwgPSBtZXNzYWdlRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktbWVzc2FnZS10aW1lc3RhbXAnIH0pO1xuXHRcdFx0XHR0aW1lc3RhbXBFbC5zZXRUZXh0KGNoYXRNZXNzYWdlLnRpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoKSk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIHNtb290aGVyIHNjcm9sbGluZ1xuXHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0XHRcdFx0dGhpcy5tZXNzYWdlc0NvbnRhaW5lci5zY3JvbGxUb3AgPSB0aGlzLm1lc3NhZ2VzQ29udGFpbmVyLnNjcm9sbEhlaWdodDtcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciByZW5kZXJpbmcgbWVzc2FnZTonLCBlcnJvciwgY2hhdE1lc3NhZ2UpO1xuXHRcdH1cblx0fVxuXG5cdGdldERpc3BsYXlOYW1lKHR5cGU6IHN0cmluZywgaXNVc2VySW5wdXQgPSBmYWxzZSk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICd1c2VyJzogcmV0dXJuIGlzVXNlcklucHV0ID8gJ1lvdScgOiAnQ2xhdWRlJztcblx0XHRcdGNhc2UgJ2Fzc2lzdGFudCc6IHJldHVybiAnQ2xhdWRlJztcblx0XHRcdGNhc2UgJ3N5c3RlbSc6IHJldHVybiAnU3lzdGVtJztcblx0XHRcdGNhc2UgJ3Jlc3VsdCc6IHJldHVybiAnQ2xhdWRlJztcblx0XHRcdGRlZmF1bHQ6IHJldHVybiB0eXBlO1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlck1lc3NhZ2VDb250ZW50KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNoYXRNZXNzYWdlOiBDaGF0TWVzc2FnZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoY2hhdE1lc3NhZ2UubWVzc2FnZT8uY29udGVudCkge1xuXHRcdFx0XHRjaGF0TWVzc2FnZS5tZXNzYWdlLmNvbnRlbnQuZm9yRWFjaCgoY29udGVudDogQ29udGVudEJsb2NrKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGNvbnRlbnQudHlwZSA9PT0gJ3RleHQnKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB0ZXh0RWwgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktbWVzc2FnZS10ZXh0JyB9KTtcblx0XHRcdFx0XHRcdHRleHRFbC5pbm5lckhUTUwgPSB0aGlzLmZvcm1hdFRleHQoY29udGVudC50ZXh0KTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ3Rvb2xfdXNlJykge1xuXHRcdFx0XHRcdFx0aWYgKGNvbnRlbnQubmFtZSA9PT0gJ1RvZG9Xcml0ZScpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW5kZXJUb2RvQ2FyZChjb250YWluZXIsIGNvbnRlbnQpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW5kZXJDb2xsYXBzaWJsZVRvb2woY29udGFpbmVyLCBjb250ZW50KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ3Rvb2xfcmVzdWx0Jykge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0RWwgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktdG9vbC1yZXN1bHQnIH0pO1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJlID0gcmVzdWx0RWwuY3JlYXRlRWwoJ3ByZScpO1xuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0VGV4dCA9IGNvbnRlbnQuY29udGVudCB8fCAnTm8gY29udGVudCc7XG5cdFx0XHRcdFx0XHRwcmUuY3JlYXRlRWwoJ2NvZGUnLCB7IHRleHQ6IHR5cGVvZiByZXN1bHRUZXh0ID09PSAnc3RyaW5nJyA/IHJlc3VsdFRleHQgOiBKU09OLnN0cmluZ2lmeShyZXN1bHRUZXh0LCBudWxsLCAyKSB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmIChjaGF0TWVzc2FnZS5yZXN1bHQpIHtcblx0XHRcdFx0Y29uc3QgcmVzdWx0RWwgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktZmluYWwtcmVzdWx0JyB9KTtcblx0XHRcdFx0cmVzdWx0RWwuaW5uZXJIVE1MID0gdGhpcy5mb3JtYXRUZXh0KGNoYXRNZXNzYWdlLnJlc3VsdCk7XG5cdFx0XHR9IGVsc2UgaWYgKGNoYXRNZXNzYWdlLnN1YnR5cGUgPT09ICdpbml0Jykge1xuXHRcdFx0XHRjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgXG5cdFx0XHRcdFx0dGV4dDogJ0Nvb2tpbmcuLi4nLCBcblx0XHRcdFx0XHRjbHM6ICdhaS1zeXN0ZW0taW5pdCcgXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmIChjaGF0TWVzc2FnZS5zdWJ0eXBlKSB7XG5cdFx0XHRcdGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgU3lzdGVtOiAke2NoYXRNZXNzYWdlLnN1YnR5cGV9YCB9KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciByZW5kZXJpbmcgbWVzc2FnZSBjb250ZW50OicsIGVycm9yLCBjaGF0TWVzc2FnZSk7XG5cdFx0XHRjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgXG5cdFx0XHRcdHRleHQ6ICdFcnJvciByZW5kZXJpbmcgbWVzc2FnZSBjb250ZW50JywgXG5cdFx0XHRcdGNsczogJ2FpLWVycm9yLW1lc3NhZ2UnIFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cmVuZGVyVG9kb0NhcmQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY29udGVudDogVG9vbFVzZUJsb2NrKSB7XG5cdFx0Y29uc3QgY2FyZEVsID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2FpLXRvZG8tY2FyZCcgfSk7XG5cdFx0Y29uc3QgaGVhZGVyRWwgPSBjYXJkRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktdG9kby1oZWFkZXInIH0pO1xuXHRcdGhlYWRlckVsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnVGFza3MnLCBjbHM6ICdhaS10b2RvLXRpdGxlJyB9KTtcblx0XHRcblx0XHRpZiAoY29udGVudC5pbnB1dD8udG9kb3MpIHtcblx0XHRcdGNvbnN0IHRvZG9zRWwgPSBjYXJkRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktdG9kb3MtbGlzdCcgfSk7XG5cdFx0XHRjb250ZW50LmlucHV0LnRvZG9zLmZvckVhY2goKHRvZG86IGFueSkgPT4ge1xuXHRcdFx0XHRjb25zdCB0b2RvRWwgPSB0b2Rvc0VsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2FpLXRvZG8taXRlbScgfSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBpY29uRWwgPSB0b2RvRWwuY3JlYXRlRWwoJ3NwYW4nLCB7IGNsczogJ2FpLXRvZG8tc3RhdHVzJyB9KTtcblx0XHRcdFx0aWYgKHRvZG8uc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuXHRcdFx0XHRcdHNldEljb24oaWNvbkVsLCAnY2lyY2xlLWNoZWNrJyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAodG9kby5zdGF0dXMgPT09ICdpbl9wcm9ncmVzcycpIHtcblx0XHRcdFx0XHRzZXRJY29uKGljb25FbCwgJ2NpcmNsZS1lbGxpcHNpcycpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNldEljb24oaWNvbkVsLCAnY2lyY2xlJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHRvZG9FbC5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogdG9kby5jb250ZW50LCBjbHM6ICdhaS10b2RvLWNvbnRlbnQnIH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cmVuZGVyQ29sbGFwc2libGVUb29sKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNvbnRlbnQ6IFRvb2xVc2VCbG9jaykge1xuXHRcdGNvbnN0IHRvb2xFbCA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS10b29sLWNvbGxhcHNpYmxlJyB9KTtcblx0XHRjb25zdCBoZWFkZXJFbCA9IHRvb2xFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS10b29sLWhlYWRlciBjbGlja2FibGUnIH0pO1xuXHRcdFxuXHRcdGhlYWRlckVsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBgVXNpbmcgdG9vbDogJHtjb250ZW50Lm5hbWUgfHwgJ1Vua25vd24nfWAsIGNsczogJ2FpLXRvb2wtbmFtZScgfSk7XG5cdFx0XG5cdFx0Y29uc3QgY29udGVudEVsID0gdG9vbEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2FpLXRvb2wtY29udGVudCBjb2xsYXBzZWQnIH0pO1xuXHRcdGlmIChjb250ZW50LmlucHV0KSB7XG5cdFx0XHRjb25zdCBwcmUgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3ByZScpO1xuXHRcdFx0cHJlLmNyZWF0ZUVsKCdjb2RlJywgeyB0ZXh0OiBKU09OLnN0cmluZ2lmeShjb250ZW50LmlucHV0LCBudWxsLCAyKSB9KTtcblx0XHR9XG5cdFx0XG5cdFx0aGVhZGVyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRpZiAoY29udGVudEVsLmhhc0NsYXNzKCdjb2xsYXBzZWQnKSkge1xuXHRcdFx0XHRjb250ZW50RWwucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGVudEVsLmFkZENsYXNzKCdjb2xsYXBzZWQnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHJlbmRlclRoaW5raW5nTWVzc2FnZShtZXNzYWdlRWw6IEhUTUxFbGVtZW50LCBjaGF0TWVzc2FnZTogQ2hhdE1lc3NhZ2UpIHtcblx0XHQvLyBDaGVjayBpZiB0aGlzIG1lc3NhZ2UgY29udGFpbnMgdG9vbCByZXN1bHRzIHRvIHVzZSBhcHByb3ByaWF0ZSB0aXRsZVxuXHRcdGNvbnN0IGhhc1Rvb2xSZXN1bHRzID0gY2hhdE1lc3NhZ2UubWVzc2FnZT8uY29udGVudD8uc29tZShjb250ZW50ID0+IGNvbnRlbnQudHlwZSA9PT0gJ3Rvb2xfcmVzdWx0Jyk7XG5cdFx0Y29uc3QgaGVhZGVyVGV4dCA9IGhhc1Rvb2xSZXN1bHRzID8gJ1Rvb2wgcmVzdWx0JyA6ICdUaGlua2luZy4uLic7XG5cdFx0XG5cdFx0Y29uc3QgaGVhZGVyRWwgPSBtZXNzYWdlRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktdGhpbmtpbmctaGVhZGVyIGNsaWNrYWJsZScgfSk7XG5cdFx0aGVhZGVyRWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGhlYWRlclRleHQsIGNsczogJ2FpLXRoaW5raW5nLWxhYmVsJyB9KTtcblx0XHRcblx0XHRjb25zdCBjb250ZW50RWwgPSBtZXNzYWdlRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnYWktdGhpbmtpbmctY29udGVudCBjb2xsYXBzZWQnIH0pO1xuXHRcdHRoaXMucmVuZGVyTWVzc2FnZUNvbnRlbnQoY29udGVudEVsLCBjaGF0TWVzc2FnZSk7XG5cdFx0XG5cdFx0aGVhZGVyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRpZiAoY29udGVudEVsLmhhc0NsYXNzKCdjb2xsYXBzZWQnKSkge1xuXHRcdFx0XHRjb250ZW50RWwucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGVudEVsLmFkZENsYXNzKCdjb2xsYXBzZWQnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHJlbmRlckFzc2lzdGFudFRob3VnaHQobWVzc2FnZUVsOiBIVE1MRWxlbWVudCwgY2hhdE1lc3NhZ2U6IENoYXRNZXNzYWdlKSB7XHRcdFxuXHRcdGNvbnN0IGNvbnRlbnRFbCA9IG1lc3NhZ2VFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdhaS1tZXNzYWdlLWNvbnRlbnQgYWktc2VsZi10aG91Z2h0JyB9KTtcblx0XHR0aGlzLnJlbmRlck1lc3NhZ2VDb250ZW50KGNvbnRlbnRFbCwgY2hhdE1lc3NhZ2UpO1xuXHR9XG5cblx0cmVuZGVyRmluYWxSZXNwb25zZShtZXNzYWdlRWw6IEhUTUxFbGVtZW50LCBjaGF0TWVzc2FnZTogQ2hhdE1lc3NhZ2UpIHtcdFx0XG5cdFx0Y29uc3QgY29udGVudEVsID0gbWVzc2FnZUVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2FpLW1lc3NhZ2UtY29udGVudCBhaS1maW5hbC1yZXNwb25zZScgfSk7XG5cdFx0dGhpcy5yZW5kZXJNZXNzYWdlQ29udGVudChjb250ZW50RWwsIGNoYXRNZXNzYWdlKTtcblx0fVxuXG5cdGZvcm1hdFRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBCYXNpYyBtYXJrZG93bi1saWtlIGZvcm1hdHRpbmdcblx0XHRyZXR1cm4gdGV4dFxuXHRcdFx0LnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+Jylcblx0XHRcdC5yZXBsYWNlKC9cXCooLio/KVxcKi9nLCAnPGVtPiQxPC9lbT4nKVxuXHRcdFx0LnJlcGxhY2UoL2AoLio/KWAvZywgJzxjb2RlPiQxPC9jb2RlPicpXG5cdFx0XHQucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XG5cdH1cblxuXHRnZXRDdXJyZW50RmlsZVBhdGgoKTogc3RyaW5nIHwgbnVsbCB7XG5cdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0aWYgKGFjdGl2ZUZpbGUpIHtcblx0XHRcdGNvbnN0IHZhdWx0UGF0aCA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuYmFzZVBhdGg7XG5cdFx0XHRyZXR1cm4gYCR7dmF1bHRQYXRofS8ke2FjdGl2ZUZpbGUucGF0aH1gO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHVwZGF0ZUZpbGVDb250ZXh0RGlzcGxheSh0ZXh0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcblx0XHR0ZXh0RWxlbWVudC5zZXRUZXh0KCdDdXJyZW50IHBhZ2UnKTtcblx0fVxuXG5cblx0aGFuZGxlQnV0dG9uQ2xpY2soKSB7XG5cdFx0aWYgKHRoaXMuaXNQcm9jZXNzaW5nKSB7XG5cdFx0XHR0aGlzLmNhbmNlbEV4ZWN1dGlvbigpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmhhbmRsZVNlbmRNZXNzYWdlKCk7XG5cdFx0fVxuXHR9XG5cblx0Y2FuY2VsRXhlY3V0aW9uKCkge1xuXHRcdGlmICh0aGlzLmN1cnJlbnRDbGF1ZGVQcm9jZXNzKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRDbGF1ZGVQcm9jZXNzLmtpbGwoJ1NJR1RFUk0nKTtcblx0XHRcdHRoaXMuY3VycmVudENsYXVkZVByb2Nlc3MgPSBudWxsO1xuXHRcdFx0dGhpcy5zZXRQcm9jZXNzaW5nU3RhdGUoZmFsc2UpO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBjYW5jZWxNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdFx0dHlwZTogJ3N5c3RlbScsXG5cdFx0XHRcdHJlc3VsdDogJ01lc3NhZ2UgZXhlY3V0aW9uIGNhbmNlbGxlZCcsXG5cdFx0XHRcdHNlc3Npb25faWQ6IHRoaXMuY3VycmVudFNlc3Npb25JZCB8fCBgc2Vzc2lvbi0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0dXVpZDogYGNhbmNlbC0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRNZXNzYWdlKGNhbmNlbE1lc3NhZ2UpO1xuXHRcdH1cblx0fVxuXG5cdHNldFByb2Nlc3NpbmdTdGF0ZShwcm9jZXNzaW5nOiBib29sZWFuKSB7XG5cdFx0dGhpcy5pc1Byb2Nlc3NpbmcgPSBwcm9jZXNzaW5nO1xuXHRcdFxuXHRcdGlmIChwcm9jZXNzaW5nKSB7XG5cdFx0XHQvLyBDaGFuZ2UgdG8gY2FuY2VsIGJ1dHRvblxuXHRcdFx0dGhpcy5zZW5kQnV0dG9uLmVtcHR5KCk7XG5cdFx0XHRzZXRJY29uKHRoaXMuc2VuZEJ1dHRvbiwgJ3NxdWFyZScpO1xuXHRcdFx0dGhpcy5zZW5kQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDYW5jZWwgcHJvY2Vzc2luZycpO1xuXHRcdFx0dGhpcy5zZW5kQnV0dG9uLmFkZENsYXNzKCdhaS1jYW5jZWwtYnV0dG9uJyk7XG5cdFx0XHRcblx0XHRcdC8vIFNob3cgbG9hZGluZyBpbmRpY2F0b3Jcblx0XHRcdHRoaXMubG9hZGluZ0luZGljYXRvci5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcblx0XHRcdC8vIERpc2FibGUgaW5wdXQgZmllbGRcblx0XHRcdHRoaXMuaW5wdXRGaWVsZC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIENoYW5nZSBiYWNrIHRvIHNlbmQgYnV0dG9uXG5cdFx0XHR0aGlzLnNlbmRCdXR0b24uZW1wdHkoKTtcblx0XHRcdHNldEljb24odGhpcy5zZW5kQnV0dG9uLCAnY29ybmVyLWRvd24tcmlnaHQnKTtcblx0XHRcdHRoaXMuc2VuZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnU2VuZCBtZXNzYWdlJyk7XG5cdFx0XHR0aGlzLnNlbmRCdXR0b24ucmVtb3ZlQ2xhc3MoJ2FpLWNhbmNlbC1idXR0b24nKTtcblx0XHRcdFxuXHRcdFx0Ly8gSGlkZSBsb2FkaW5nIGluZGljYXRvclxuXHRcdFx0dGhpcy5sb2FkaW5nSW5kaWNhdG9yLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0XHRcdFxuXHRcdFx0Ly8gRW5hYmxlIGlucHV0IGZpZWxkXG5cdFx0XHR0aGlzLmlucHV0RmllbGQuZGlzYWJsZWQgPSBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBoYW5kbGVTZW5kTWVzc2FnZSgpIHtcblx0XHRjb25zdCBtZXNzYWdlVGV4dCA9IHRoaXMuaW5wdXRGaWVsZC52YWx1ZS50cmltKCk7XG5cdFx0aWYgKG1lc3NhZ2VUZXh0ICYmICF0aGlzLmlzUHJvY2Vzc2luZykge1xuXHRcdFx0Ly8gUHJlcGFyZSBtZXNzYWdlIHdpdGggb3B0aW9uYWwgZmlsZSBjb250ZXh0XG5cdFx0XHRsZXQgZmluYWxNZXNzYWdlID0gbWVzc2FnZVRleHQ7XG5cdFx0XHRpZiAodGhpcy5pbmNsdWRlRmlsZUNvbnRleHQpIHtcblx0XHRcdFx0Y29uc3QgY3VycmVudEZpbGUgPSB0aGlzLmdldEN1cnJlbnRGaWxlUGF0aCgpO1xuXHRcdFx0XHRpZiAoY3VycmVudEZpbGUpIHtcblx0XHRcdFx0XHRmaW5hbE1lc3NhZ2UgPSBgQ3VycmVudCBmaWxlIGNvbnRleHQ6ICR7Y3VycmVudEZpbGV9XFxuXFxuJHttZXNzYWdlVGV4dH1gO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIERlYnVnIGxvZ2dpbmcgaWYgZW5hYmxlZFxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZGVidWdDb250ZXh0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCc9PT0gREVCVUcgQ09OVEVYVCBTVEFSVCA9PT0nKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ05vZGUuanMgbG9jYXRpb246JywgdGhpcy5zZXR0aW5ncy5ub2RlTG9jYXRpb24gfHwgJ2F1dG8tZGV0ZWN0Jyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdDbGF1ZGUgbG9jYXRpb246JywgdGhpcy5zZXR0aW5ncy5jbGF1ZGVMb2NhdGlvbiB8fCAnYXV0by1kZXRlY3QnKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ05ldyBtZXNzYWdlIGNvbnRleHQ6Jywge1xuXHRcdFx0XHRcdG9yaWdpbmFsTWVzc2FnZTogbWVzc2FnZVRleHQsXG5cdFx0XHRcdFx0ZmluYWxNZXNzYWdlOiBmaW5hbE1lc3NhZ2UsXG5cdFx0XHRcdFx0aW5jbHVkZUZpbGVDb250ZXh0OiB0aGlzLmluY2x1ZGVGaWxlQ29udGV4dCxcblx0XHRcdFx0XHRjdXJyZW50RmlsZTogdGhpcy5pbmNsdWRlRmlsZUNvbnRleHQgPyB0aGlzLmdldEN1cnJlbnRGaWxlUGF0aCgpIDogbnVsbCxcblx0XHRcdFx0XHRzZXNzaW9uSWQ6IHRoaXMuY3VycmVudFNlc3Npb25JZFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc29sZS5sb2coJz09PSBERUJVRyBDT05URVhUIEVORCA9PT0nKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgdXNlck1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuXHRcdFx0XHR0eXBlOiAndXNlcicsXG5cdFx0XHRcdG1lc3NhZ2U6IHtcblx0XHRcdFx0XHRpZDogYG1zZy0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0XHRyb2xlOiAndXNlcicsXG5cdFx0XHRcdFx0Y29udGVudDogW3sgdHlwZTogJ3RleHQnLCB0ZXh0OiBtZXNzYWdlVGV4dCB9XSAvLyBTaG93IG9yaWdpbmFsIG1lc3NhZ2UgaW4gVUlcblx0XHRcdFx0fSxcblx0XHRcdFx0c2Vzc2lvbl9pZDogYHNlc3Npb24tJHtEYXRlLm5vdygpfWAsXG5cdFx0XHRcdHV1aWQ6IGB1c2VyLSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG5cdFx0XHRcdGlzVXNlcklucHV0OiB0cnVlIC8vIE1hcmsgYXMgYWN0dWFsIHVzZXIgaW5wdXRcblx0XHRcdH07XG5cdFx0XHRcblx0XHRcdHRoaXMuYWRkTWVzc2FnZSh1c2VyTWVzc2FnZSk7XG5cdFx0XHR0aGlzLmlucHV0RmllbGQudmFsdWUgPSAnJztcblx0XHRcdHRoaXMuYXV0b1Jlc2l6ZVRleHRhcmVhKCk7IC8vIFJlc2V0IGhlaWdodCBhZnRlciBjbGVhcmluZ1xuXHRcdFx0dGhpcy5zZXRQcm9jZXNzaW5nU3RhdGUodHJ1ZSk7XG5cdFx0XHRhd2FpdCB0aGlzLmV4ZWN1dGVDb21tYW5kKGZpbmFsTWVzc2FnZSk7IC8vIFNlbmQgbWVzc2FnZSB3aXRoIGNvbnRleHQgdG8gQ2xhdWRlXG5cdFx0XHR0aGlzLnNldFByb2Nlc3NpbmdTdGF0ZShmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZXhlY3V0ZUNvbW1hbmQocHJvbXB0OiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcblx0XHRcdGNvbnN0IHZhdWx0UGF0aCA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuYmFzZVBhdGg7XG5cdFx0XHRcblx0XHRcdC8vIENyZWF0ZSBlY2hvIHByb2Nlc3MgZm9yIHByb21wdFxuXHRcdFx0Y29uc3QgZWNob1Byb2Nlc3MgPSBzcGF3bignZWNobycsIFtwcm9tcHRdLCB7XG5cdFx0XHRcdGN3ZDogdmF1bHRQYXRoLFxuXHRcdFx0XHRlbnY6IHsgLi4ucHJvY2Vzcy5lbnYsIEZPUkNFX0NPTE9SOiAnMCcgfVxuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIEF1dG8tZGV0ZWN0IGNvbW1hbmQgcGF0aHMsIHVzaW5nIHNldHRpbmdzIG92ZXJyaWRlcyBpZiBwcm92aWRlZFxuXHRcdFx0Y29uc3QgY29tbWFuZHMgPSBDb21tYW5kRGV0ZWN0b3IuZGV0ZWN0Q29tbWFuZHMoXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3M/Lm5vZGVMb2NhdGlvbixcblx0XHRcdFx0dGhpcy5zZXR0aW5ncz8uY2xhdWRlTG9jYXRpb25cblx0XHRcdCk7XG5cdFx0XHRcblx0XHRcdGxldCBjbGF1ZGVQcm9jZXNzOiBDaGlsZFByb2Nlc3M7XG5cdFx0XHRcblx0XHRcdC8vIEJ1aWxkIGNsYXVkZSBjb21tYW5kIGFyZ3VtZW50c1xuXHRcdFx0Y29uc3QgY2xhdWRlQXJncyA9IFtcblx0XHRcdFx0Y29tbWFuZHMuY2xhdWRlLFxuXHRcdFx0XHQnLS1vdXRwdXQtZm9ybWF0JywgJ3N0cmVhbS1qc29uJyxcblx0XHRcdFx0Jy0tcGVybWlzc2lvbi1tb2RlJywgJ2J5cGFzc1Blcm1pc3Npb25zJyxcblx0XHRcdFx0Jy0tZGFuZ2Vyb3VzbHktc2tpcC1wZXJtaXNzaW9ucycsXG5cdFx0XHRcdCctLXZlcmJvc2UnXG5cdFx0XHRdO1xuXHRcdFx0XG5cdFx0XHRpZiAodGhpcy5jdXJyZW50U2Vzc2lvbklkKSB7XG5cdFx0XHRcdGNsYXVkZUFyZ3MucHVzaCgnLS1yZXN1bWUnLCB0aGlzLmN1cnJlbnRTZXNzaW9uSWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY29tbWFuZHMuaXNXU0wpIHtcblx0XHRcdFx0Ly8gRm9yIFdTTCwgY3JlYXRlIHRoZSBjb21tYW5kIGFycmF5IC0gbGV0IGN3ZCBoYW5kbGUgdGhlIHdvcmtpbmcgZGlyZWN0b3J5IGxpa2UgTGludXgvTWFjXG5cdFx0XHRcdGNvbnN0IGZ1bGxBcmdzID0gW1xuXHRcdFx0XHRcdC4uLmNvbW1hbmRzLndzbFByZWZpeCEsXG5cdFx0XHRcdFx0Jy0tJyxcblx0XHRcdFx0XHRjb21tYW5kcy5ub2RlLFxuXHRcdFx0XHRcdC4uLmNsYXVkZUFyZ3Ncblx0XHRcdFx0XTtcblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuY3VycmVudENsYXVkZVByb2Nlc3MgPSBzcGF3bihmdWxsQXJnc1swXSwgZnVsbEFyZ3Muc2xpY2UoMSksIHtcblx0XHRcdFx0XHRjd2Q6IHZhdWx0UGF0aCwgIC8vIFNhbWUgYXMgTGludXgvTWFjIC0gbGV0IHNwYXduIGhhbmRsZSB0aGUgd29ya2luZyBkaXJlY3Rvcnlcblx0XHRcdFx0XHRlbnY6IHsgLi4ucHJvY2Vzcy5lbnYsIEZPUkNFX0NPTE9SOiAnMCcgfVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNsYXVkZVByb2Nlc3MgPSB0aGlzLmN1cnJlbnRDbGF1ZGVQcm9jZXNzO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gRm9yIFdTTCwgd2UgbmVlZCB0byBwaXBlIHRoZSBwcm9tcHQgZGlyZWN0bHkgdG8gc3RkaW4gc2luY2Ugd2UgY2FuJ3QgcGlwZSBiZXR3ZWVuIHByb2Nlc3NlcyBlYXNpbHlcblx0XHRcdFx0aWYgKHRoaXMuY3VycmVudENsYXVkZVByb2Nlc3Muc3RkaW4pIHtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRDbGF1ZGVQcm9jZXNzLnN0ZGluLndyaXRlKHByb21wdCk7XG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50Q2xhdWRlUHJvY2Vzcy5zdGRpbi5lbmQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTm9ybWFsIGV4ZWN1dGlvbiBmb3IgbWFjT1MvTGludXhcblx0XHRcdFx0dGhpcy5jdXJyZW50Q2xhdWRlUHJvY2VzcyA9IHNwYXduKGNvbW1hbmRzLm5vZGUsIGNsYXVkZUFyZ3MsIHtcblx0XHRcdFx0XHRjd2Q6IHZhdWx0UGF0aCxcblx0XHRcdFx0XHRlbnY6IHsgLi4ucHJvY2Vzcy5lbnYsIEZPUkNFX0NPTE9SOiAnMCcgfVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFBpcGUgZWNobyBvdXRwdXQgdG8gQ2xhdWRlXG5cdFx0XHRcdGlmIChlY2hvUHJvY2Vzcy5zdGRvdXQgJiYgdGhpcy5jdXJyZW50Q2xhdWRlUHJvY2Vzcy5zdGRpbikge1xuXHRcdFx0XHRcdGVjaG9Qcm9jZXNzLnN0ZG91dC5waXBlKHRoaXMuY3VycmVudENsYXVkZVByb2Nlc3Muc3RkaW4pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRjbGF1ZGVQcm9jZXNzID0gdGhpcy5jdXJyZW50Q2xhdWRlUHJvY2Vzcztcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0bGV0IGJ1ZmZlciA9ICcnO1xuXHRcdFx0XG5cdFx0XHRpZiAoY2xhdWRlUHJvY2Vzcy5zdGRvdXQpIHtcblx0XHRcdFx0Y2xhdWRlUHJvY2Vzcy5zdGRvdXQub24oJ2RhdGEnLCAoY2h1bms6IEJ1ZmZlcikgPT4ge1xuXHRcdFx0XHRidWZmZXIgKz0gY2h1bmsudG9TdHJpbmcoKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFByb2Nlc3MgY29tcGxldGUgSlNPTiBvYmplY3RzXG5cdFx0XHRcdGNvbnN0IGxpbmVzID0gYnVmZmVyLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0YnVmZmVyID0gbGluZXMucG9wKCkgfHwgJyc7IC8vIEtlZXAgaW5jb21wbGV0ZSBsaW5lIGluIGJ1ZmZlclxuXHRcdFx0XHRcblx0XHRcdFx0Zm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJpbW1lZExpbmUgPSBsaW5lLnRyaW0oKTtcblx0XHRcdFx0XHRpZiAodHJpbW1lZExpbmUpIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGpzb25PYmogPSBKU09OLnBhcnNlKHRyaW1tZWRMaW5lKTtcblx0XHRcdFx0XHRcdFx0Ly8gVmFsaWRhdGUgdGhhdCB3ZSBoYXZlIGEgdmFsaWQgbWVzc2FnZSBzdHJ1Y3R1cmVcblx0XHRcdFx0XHRcdFx0aWYgKGpzb25PYmogJiYgdHlwZW9mIGpzb25PYmogPT09ICdvYmplY3QnICYmIGpzb25PYmoudHlwZSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucHJvY2Vzc1N0cmVhbWluZ01lc3NhZ2UoanNvbk9iaik7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdJbnZhbGlkIG1lc3NhZ2Ugc3RydWN0dXJlOicsIGpzb25PYmopO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChwYXJzZUVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBhcnNlIEpTT04gbGluZTonLCB0cmltbWVkTGluZSwgcGFyc2VFcnJvcik7XG5cdFx0XHRcdFx0XHRcdC8vIEFkZCBlcnJvciBtZXNzYWdlIHRvIGNoYXRcblx0XHRcdFx0XHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnc3lzdGVtJyxcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQ6IGBQYXJzZSBlcnJvcjogJHtwYXJzZUVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJzZUVycm9yLm1lc3NhZ2UgOiBTdHJpbmcocGFyc2VFcnJvcil9YCxcblx0XHRcdFx0XHRcdFx0XHRzZXNzaW9uX2lkOiB0aGlzLmN1cnJlbnRTZXNzaW9uSWQgfHwgYHNlc3Npb24tJHtEYXRlLm5vdygpfWAsXG5cdFx0XHRcdFx0XHRcdFx0dXVpZDogYGVycm9yLSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHRcdFx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR0aGlzLmFkZE1lc3NhZ2UoZXJyb3JNZXNzYWdlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChjbGF1ZGVQcm9jZXNzLnN0ZGVycikge1xuXHRcdFx0XHRjbGF1ZGVQcm9jZXNzLnN0ZGVyci5vbignZGF0YScsIChjaHVuazogQnVmZmVyKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG5cdFx0XHRcdFx0dHlwZTogJ3N5c3RlbScsXG5cdFx0XHRcdFx0cmVzdWx0OiBgQ2xhdWRlIEVycm9yOiAke2NodW5rLnRvU3RyaW5nKCl9YCxcblx0XHRcdFx0XHRzZXNzaW9uX2lkOiBgc2Vzc2lvbi0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0XHR1dWlkOiBgZXJyb3ItJHtEYXRlLm5vdygpfWAsXG5cdFx0XHRcdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpXG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuYWRkTWVzc2FnZShlcnJvck1lc3NhZ2UpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y2xhdWRlUHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZTogbnVtYmVyIHwgbnVsbCkgPT4ge1xuXHRcdFx0XHRpZiAoY29kZSAhPT0gMCAmJiBjb2RlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0Ly8gT25seSBzaG93IGVycm9yIGlmIG5vdCBjYW5jZWxsZWQgKFNJR1RFUk0gcmV0dXJucyBudWxsKVxuXHRcdFx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG5cdFx0XHRcdFx0XHR0eXBlOiAnc3lzdGVtJyxcblx0XHRcdFx0XHRcdHJlc3VsdDogYENsYXVkZSBwcm9jZXNzIGV4aXRlZCB3aXRoIGNvZGUgJHtjb2RlfWAsXG5cdFx0XHRcdFx0XHRzZXNzaW9uX2lkOiBgc2Vzc2lvbi0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0XHRcdHV1aWQ6IGBlcnJvci0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0dGhpcy5hZGRNZXNzYWdlKGVycm9yTWVzc2FnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5jdXJyZW50Q2xhdWRlUHJvY2VzcyA9IG51bGw7XG5cdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRjbGF1ZGVQcm9jZXNzLm9uKCdlcnJvcicsIChlcnJvcjogRXJyb3IpID0+IHtcblx0XHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdFx0XHR0eXBlOiAnc3lzdGVtJyxcblx0XHRcdFx0XHRyZXN1bHQ6IGBDbGF1ZGUgY29tbWFuZCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRcdHNlc3Npb25faWQ6IGBzZXNzaW9uLSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHRcdHV1aWQ6IGBlcnJvci0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKClcblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy5hZGRNZXNzYWdlKGVycm9yTWVzc2FnZSk7XG5cdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJvY2Vzc1N0cmVhbWluZ01lc3NhZ2UoanNvbk9iajogUGFydGlhbDxDaGF0TWVzc2FnZT4pIHtcblx0XHQvLyBEZWJ1ZyBsb2dnaW5nIGlmIGVuYWJsZWRcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z0NvbnRleHQpIHtcblx0XHRcdGNvbnNvbGUubG9nKCc9PT0gU1RSRUFNSU5HIE1FU1NBR0UgREVCVUcgPT09Jyk7XG5cdFx0XHRjb25zb2xlLmxvZygnUmVjZWl2ZWQgc3RyZWFtaW5nIG1lc3NhZ2U6JywganNvbk9iaik7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIEhhbmRsZSBkaWZmZXJlbnQgdHlwZXMgb2Ygc3RyZWFtaW5nIG1lc3NhZ2VzIGZyb20gQ2xhdWRlXG5cdFx0aWYgKGpzb25PYmoudHlwZSA9PT0gJ3N5c3RlbScgJiYganNvbk9iai5zdWJ0eXBlID09PSAnaW5pdCcpIHtcblx0XHRcdC8vIFN0b3JlIHNlc3Npb25faWQgZm9yIGZ1dHVyZSByZXN1bWVcblx0XHRcdGlmIChqc29uT2JqLnNlc3Npb25faWQgJiYgIXRoaXMuY3VycmVudFNlc3Npb25JZCkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRTZXNzaW9uSWQgPSBqc29uT2JqLnNlc3Npb25faWQ7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFN5c3RlbSBpbml0aWFsaXphdGlvbiBtZXNzYWdlIC0gY2FuIGJlIGRpc3BsYXllZCBvciBpZ25vcmVkXG5cdFx0XHRjb25zdCBzeXN0ZW1NZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdFx0dHlwZTogJ3N5c3RlbScsXG5cdFx0XHRcdHN1YnR5cGU6ICdpbml0Jyxcblx0XHRcdFx0c2Vzc2lvbl9pZDoganNvbk9iai5zZXNzaW9uX2lkIHx8IGBzZXNzaW9uLSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHR1dWlkOiBgc3lzdGVtLSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKClcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZE1lc3NhZ2Uoc3lzdGVtTWVzc2FnZSk7XG5cdFx0fSBlbHNlIGlmIChqc29uT2JqLnR5cGUgPT09ICdhc3Npc3RhbnQnICYmIGpzb25PYmoubWVzc2FnZSkge1xuXHRcdFx0Ly8gQXNzaXN0YW50IG1lc3NhZ2Ugd2l0aCBjb250ZW50IG9yIHRvb2wgdXNlXG5cdFx0XHRjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdFx0dHlwZTogJ2Fzc2lzdGFudCcsXG5cdFx0XHRcdG1lc3NhZ2U6IGpzb25PYmoubWVzc2FnZSxcblx0XHRcdFx0c2Vzc2lvbl9pZDoganNvbk9iai5zZXNzaW9uX2lkIHx8IGBzZXNzaW9uLSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHR1dWlkOiBgYXNzaXN0YW50LSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKClcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZE1lc3NhZ2UoYXNzaXN0YW50TWVzc2FnZSk7XG5cdFx0fSBlbHNlIGlmIChqc29uT2JqLnR5cGUgPT09ICd1c2VyJyAmJiBqc29uT2JqLm1lc3NhZ2UpIHtcblx0XHRcdC8vIFRvb2wgcmVzdWx0IG1lc3NhZ2VzIChzaG93biBhcyB1c2VyIGluIHN0cmVhbSBidXQgcmVwcmVzZW50IHRvb2wgcmVzdWx0cylcblx0XHRcdGNvbnN0IHRvb2xSZXN1bHRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdFx0dHlwZTogJ3VzZXInLFxuXHRcdFx0XHRtZXNzYWdlOiBqc29uT2JqLm1lc3NhZ2UsXG5cdFx0XHRcdHNlc3Npb25faWQ6IGpzb25PYmouc2Vzc2lvbl9pZCB8fCBgc2Vzc2lvbi0ke0RhdGUubm93KCl9YCxcblx0XHRcdFx0dXVpZDogYHRvb2wtcmVzdWx0LSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKClcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZE1lc3NhZ2UodG9vbFJlc3VsdE1lc3NhZ2UpO1xuXHRcdH0gZWxzZSBpZiAoanNvbk9iai50eXBlID09PSAncmVzdWx0Jykge1xuXHRcdFx0Ly8gRmluYWwgcmVzdWx0IG1lc3NhZ2Vcblx0XHRcdGNvbnN0IHJlc3VsdE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuXHRcdFx0XHR0eXBlOiAncmVzdWx0Jyxcblx0XHRcdFx0c3VidHlwZToganNvbk9iai5zdWJ0eXBlIHx8ICdzdWNjZXNzJyxcblx0XHRcdFx0ZHVyYXRpb25fbXM6IGpzb25PYmouZHVyYXRpb25fbXMgfHwgMCxcblx0XHRcdFx0ZHVyYXRpb25fYXBpX21zOiBqc29uT2JqLmR1cmF0aW9uX2FwaV9tcyB8fCAwLFxuXHRcdFx0XHRpc19lcnJvcjoganNvbk9iai5pc19lcnJvciB8fCBmYWxzZSxcblx0XHRcdFx0bnVtX3R1cm5zOiBqc29uT2JqLm51bV90dXJucyB8fCAxLFxuXHRcdFx0XHRyZXN1bHQ6IGpzb25PYmoucmVzdWx0LFxuXHRcdFx0XHRzZXNzaW9uX2lkOiBqc29uT2JqLnNlc3Npb25faWQgfHwgYHNlc3Npb24tJHtEYXRlLm5vdygpfWAsXG5cdFx0XHRcdHRvdGFsX2Nvc3RfdXNkOiBqc29uT2JqLnRvdGFsX2Nvc3RfdXNkLFxuXHRcdFx0XHR1dWlkOiBgcmVzdWx0LSR7RGF0ZS5ub3coKX1gLFxuXHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKClcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZE1lc3NhZ2UocmVzdWx0TWVzc2FnZSk7XG5cdFx0fVxuXHR9XG5cblx0c3RhcnROZXdDaGF0KCkge1xuXHRcdC8vIENhbmNlbCBhbnkgb25nb2luZyBleGVjdXRpb25cblx0XHRpZiAodGhpcy5pc1Byb2Nlc3NpbmcpIHtcblx0XHRcdHRoaXMuY2FuY2VsRXhlY3V0aW9uKCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIENsZWFyIHRoZSBjdXJyZW50IHNlc3Npb24gYW5kIG1lc3NhZ2VzXG5cdFx0dGhpcy5jdXJyZW50U2Vzc2lvbklkID0gbnVsbDtcblx0XHR0aGlzLm1lc3NhZ2VzID0gW107XG5cdFx0XG5cdFx0Ly8gQ2xlYXIgdGhlIG1lc3NhZ2VzIGNvbnRhaW5lclxuXHRcdHRoaXMubWVzc2FnZXNDb250YWluZXIuZW1wdHkoKTtcblx0fVxuXG5cdGFkZEV4YW1wbGVNZXNzYWdlcygpIHtcblx0XHRjb25zdCBleGFtcGxlU2Vzc2lvbklkID0gXCI0ZTYzOTMwMS04ZmUwLTRkNzAtYTQ3ZS1kYjBiMDYwNWVmZmFcIjtcblx0XHRcblx0XHQvLyAxLiBVc2VyIGlucHV0IG1lc3NhZ2Vcblx0XHRjb25zdCB1c2VyTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG5cdFx0XHR0eXBlOiAndXNlcicsXG5cdFx0XHRtZXNzYWdlOiB7XG5cdFx0XHRcdGlkOiAnbXNnLXVzZXItMDAxJyxcblx0XHRcdFx0cm9sZTogJ3VzZXInLFxuXHRcdFx0XHRjb250ZW50OiBbeyB0eXBlOiAndGV4dCcsIHRleHQ6ICdDb3VsZCB5b3UgbWFrZSBhIHBsYW4gZm9yIGZpbmRpbmcgdGhlIGRhdGUsIGV4ZWN1dGUgdGhlIG5lY2Vzc2FyeSBzdGVwcywgYW5kIHRoZW4gdGVsbCBtZSB0aGUgY3VycmVudCBkYXRldGltZT8nIH1dXG5cdFx0XHR9LFxuXHRcdFx0c2Vzc2lvbl9pZDogZXhhbXBsZVNlc3Npb25JZCxcblx0XHRcdHV1aWQ6ICd1c2VyLWV4YW1wbGUtMDAxJyxcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKSxcblx0XHRcdGlzVXNlcklucHV0OiB0cnVlXG5cdFx0fTtcblx0XHR0aGlzLmFkZE1lc3NhZ2UodXNlck1lc3NhZ2UpO1xuXG5cdFx0Ly8gMi4gU3lzdGVtIGluaXQgbWVzc2FnZVxuXHRcdGNvbnN0IHN5c3RlbUluaXRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdHR5cGU6ICdzeXN0ZW0nLFxuXHRcdFx0c3VidHlwZTogJ2luaXQnLFxuXHRcdFx0c2Vzc2lvbl9pZDogZXhhbXBsZVNlc3Npb25JZCxcblx0XHRcdHV1aWQ6ICdzeXN0ZW0taW5pdC0wMDEnLFxuXHRcdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpXG5cdFx0fTtcblx0XHR0aGlzLmFkZE1lc3NhZ2Uoc3lzdGVtSW5pdE1lc3NhZ2UpO1xuXG5cdFx0Ly8gMy4gQXNzaXN0YW50IG1lc3NhZ2Ugd2l0aCB0ZXh0XG5cdFx0Y29uc3QgYXNzaXN0YW50VGV4dE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuXHRcdFx0dHlwZTogJ2Fzc2lzdGFudCcsXG5cdFx0XHRtZXNzYWdlOiB7XG5cdFx0XHRcdGlkOiAnbXNnXzAxUUtlallWTnpLRXZKaUxkZ3NqRG5YOCcsXG5cdFx0XHRcdHJvbGU6ICdhc3Npc3RhbnQnLFxuXHRcdFx0XHRjb250ZW50OiBbeyB0eXBlOiAndGV4dCcsIHRleHQ6IFwiSSdsbCBoZWxwIHlvdSBmaW5kIHRoZSBjdXJyZW50IGRhdGV0aW1lLiBMZXQgbWUgY3JlYXRlIGEgcGxhbiBhbmQgZXhlY3V0ZSBpdC5cIiB9XSxcblx0XHRcdFx0bW9kZWw6ICdjbGF1ZGUtc29ubmV0LTQtMjAyNTA1MTQnLFxuXHRcdFx0XHR1c2FnZToge1xuXHRcdFx0XHRcdGlucHV0X3Rva2VuczogNCxcblx0XHRcdFx0XHRvdXRwdXRfdG9rZW5zOiA3LFxuXHRcdFx0XHRcdHNlcnZpY2VfdGllcjogJ3N0YW5kYXJkJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0c2Vzc2lvbl9pZDogZXhhbXBsZVNlc3Npb25JZCxcblx0XHRcdHV1aWQ6ICdhc3Npc3RhbnQtdGV4dC0wMDEnLFxuXHRcdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpXG5cdFx0fTtcblx0XHR0aGlzLmFkZE1lc3NhZ2UoYXNzaXN0YW50VGV4dE1lc3NhZ2UpO1xuXG5cdFx0Ly8gNC4gQXNzaXN0YW50IG1lc3NhZ2Ugd2l0aCBUb2RvV3JpdGUgdG9vbCB1c2Vcblx0XHRjb25zdCB0b2RvVG9vbE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuXHRcdFx0dHlwZTogJ2Fzc2lzdGFudCcsXG5cdFx0XHRtZXNzYWdlOiB7XG5cdFx0XHRcdGlkOiAnbXNnXzAxVG9kb0V4YW1wbGUnLFxuXHRcdFx0XHRyb2xlOiAnYXNzaXN0YW50Jyxcblx0XHRcdFx0Y29udGVudDogW3tcblx0XHRcdFx0XHR0eXBlOiAndG9vbF91c2UnLFxuXHRcdFx0XHRcdGlkOiAndG9vbHVfMDFYcmFhQVU1VGJka3BQaFVxOUdlcHJ5Jyxcblx0XHRcdFx0XHRuYW1lOiAnVG9kb1dyaXRlJyxcblx0XHRcdFx0XHRpbnB1dDoge1xuXHRcdFx0XHRcdFx0dG9kb3M6IFtcblx0XHRcdFx0XHRcdFx0e2NvbnRlbnQ6ICdHZXQgY3VycmVudCBkYXRldGltZSB1c2luZyBzeXN0ZW0gY29tbWFuZCcsIHN0YXR1czogJ3BlbmRpbmcnLCBhY3RpdmVGb3JtOiAnR2V0dGluZyBjdXJyZW50IGRhdGV0aW1lIHVzaW5nIHN5c3RlbSBjb21tYW5kJ30sXG5cdFx0XHRcdFx0XHRcdHtjb250ZW50OiAnRm9ybWF0IGFuZCBkaXNwbGF5IHRoZSByZXN1bHQnLCBzdGF0dXM6ICdwZW5kaW5nJywgYWN0aXZlRm9ybTogJ0Zvcm1hdHRpbmcgYW5kIGRpc3BsYXlpbmcgdGhlIHJlc3VsdCd9XG5cdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XSxcblx0XHRcdFx0bW9kZWw6ICdjbGF1ZGUtc29ubmV0LTQtMjAyNTA1MTQnXG5cdFx0XHR9LFxuXHRcdFx0c2Vzc2lvbl9pZDogZXhhbXBsZVNlc3Npb25JZCxcblx0XHRcdHV1aWQ6ICd0b2RvLXRvb2wtMDAxJyxcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKVxuXHRcdH07XG5cdFx0dGhpcy5hZGRNZXNzYWdlKHRvZG9Ub29sTWVzc2FnZSk7XG5cblx0XHQvLyA1LiBUb29sIHJlc3VsdCBtZXNzYWdlIChhcHBlYXJzIGFzIHVzZXIgaW4gc3RyZWFtKVxuXHRcdGNvbnN0IHRvb2xSZXN1bHRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdHR5cGU6ICd1c2VyJyxcblx0XHRcdG1lc3NhZ2U6IHtcblx0XHRcdFx0aWQ6ICdtc2ctdG9vbC1yZXN1bHQtMDAxJyxcblx0XHRcdFx0cm9sZTogJ3VzZXInLFxuXHRcdFx0XHRjb250ZW50OiBbe1xuXHRcdFx0XHRcdHRvb2xfdXNlX2lkOiAndG9vbHVfMDFYcmFhQVU1VGJka3BQaFVxOUdlcHJ5Jyxcblx0XHRcdFx0XHR0eXBlOiAndG9vbF9yZXN1bHQnLFxuXHRcdFx0XHRcdGNvbnRlbnQ6ICdUb2RvcyBoYXZlIGJlZW4gbW9kaWZpZWQgc3VjY2Vzc2Z1bGx5LiBFbnN1cmUgdGhhdCB5b3UgY29udGludWUgdG8gdXNlIHRoZSB0b2RvIGxpc3QgdG8gdHJhY2sgeW91ciBwcm9ncmVzcy4gUGxlYXNlIHByb2NlZWQgd2l0aCB0aGUgY3VycmVudCB0YXNrcyBpZiBhcHBsaWNhYmxlJ1xuXHRcdFx0XHR9XVxuXHRcdFx0fSxcblx0XHRcdHNlc3Npb25faWQ6IGV4YW1wbGVTZXNzaW9uSWQsXG5cdFx0XHR1dWlkOiAndG9vbC1yZXN1bHQtMDAxJyxcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKVxuXHRcdH07XG5cdFx0dGhpcy5hZGRNZXNzYWdlKHRvb2xSZXN1bHRNZXNzYWdlKTtcblxuXHRcdC8vIDYuIEFzc2lzdGFudCBtZXNzYWdlIHdpdGggb3RoZXIgdG9vbCB1c2UgKEJhc2gpXG5cdFx0Y29uc3QgYmFzaFRvb2xNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdHR5cGU6ICdhc3Npc3RhbnQnLFxuXHRcdFx0bWVzc2FnZToge1xuXHRcdFx0XHRpZDogJ21zZ18wMUJhc2hFeGFtcGxlJyxcblx0XHRcdFx0cm9sZTogJ2Fzc2lzdGFudCcsXG5cdFx0XHRcdGNvbnRlbnQ6IFt7XG5cdFx0XHRcdFx0dHlwZTogJ3Rvb2xfdXNlJyxcblx0XHRcdFx0XHRpZDogJ3Rvb2x1XzAxNDVtTk52NEhXM1Y3TFVUTndpdGR3ZCcsXG5cdFx0XHRcdFx0bmFtZTogJ0Jhc2gnLFxuXHRcdFx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdFx0XHRjb21tYW5kOiAnZGF0ZScsXG5cdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ0dldCBjdXJyZW50IGRhdGUgYW5kIHRpbWUnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XSxcblx0XHRcdFx0bW9kZWw6ICdjbGF1ZGUtc29ubmV0LTQtMjAyNTA1MTQnXG5cdFx0XHR9LFxuXHRcdFx0c2Vzc2lvbl9pZDogZXhhbXBsZVNlc3Npb25JZCxcblx0XHRcdHV1aWQ6ICdiYXNoLXRvb2wtMDAxJyxcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKVxuXHRcdH07XG5cdFx0dGhpcy5hZGRNZXNzYWdlKGJhc2hUb29sTWVzc2FnZSk7XG5cblx0XHQvLyA3LiBUb29sIHJlc3VsdCBmb3IgQmFzaCBjb21tYW5kXG5cdFx0Y29uc3QgYmFzaFJlc3VsdE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuXHRcdFx0dHlwZTogJ3VzZXInLFxuXHRcdFx0bWVzc2FnZToge1xuXHRcdFx0XHRpZDogJ21zZy1iYXNoLXJlc3VsdC0wMDEnLFxuXHRcdFx0XHRyb2xlOiAndXNlcicsXG5cdFx0XHRcdGNvbnRlbnQ6IFt7XG5cdFx0XHRcdFx0dG9vbF91c2VfaWQ6ICd0b29sdV8wMTQ1bU5OdjRIVzNWN0xVVE53aXRkd2QnLFxuXHRcdFx0XHRcdHR5cGU6ICd0b29sX3Jlc3VsdCcsXG5cdFx0XHRcdFx0Y29udGVudDogJ1dlZCAyNyBBdWcgMjAyNSAwOTo1NDoxNSBFRFQnLFxuXHRcdFx0XHRcdGlzX2Vycm9yOiBmYWxzZVxuXHRcdFx0XHR9XVxuXHRcdFx0fSxcblx0XHRcdHNlc3Npb25faWQ6IGV4YW1wbGVTZXNzaW9uSWQsXG5cdFx0XHR1dWlkOiAnYmFzaC1yZXN1bHQtMDAxJyxcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKVxuXHRcdH07XG5cdFx0dGhpcy5hZGRNZXNzYWdlKGJhc2hSZXN1bHRNZXNzYWdlKTtcblxuXHRcdC8vIDguIFRvZG8gdXBkYXRlIHNob3dpbmcgY29tcGxldGVkIHN0YXR1c1xuXHRcdGNvbnN0IHRvZG9VcGRhdGVNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcblx0XHRcdHR5cGU6ICdhc3Npc3RhbnQnLFxuXHRcdFx0bWVzc2FnZToge1xuXHRcdFx0XHRpZDogJ21zZ18wMVRvZG9VcGRhdGUnLFxuXHRcdFx0XHRyb2xlOiAnYXNzaXN0YW50Jyxcblx0XHRcdFx0Y29udGVudDogW3tcblx0XHRcdFx0XHR0eXBlOiAndG9vbF91c2UnLFxuXHRcdFx0XHRcdGlkOiAndG9vbHVfMDFUb2RvQ29tcGxldGUnLFxuXHRcdFx0XHRcdG5hbWU6ICdUb2RvV3JpdGUnLFxuXHRcdFx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdFx0XHR0b2RvczogW1xuXHRcdFx0XHRcdFx0XHR7Y29udGVudDogJ0dldCBjdXJyZW50IGRhdGV0aW1lIHVzaW5nIHN5c3RlbSBjb21tYW5kJywgc3RhdHVzOiAnY29tcGxldGVkJywgYWN0aXZlRm9ybTogJ0dldHRpbmcgY3VycmVudCBkYXRldGltZSB1c2luZyBzeXN0ZW0gY29tbWFuZCd9LFxuXHRcdFx0XHRcdFx0XHR7Y29udGVudDogJ0Zvcm1hdCBhbmQgZGlzcGxheSB0aGUgcmVzdWx0Jywgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLCBhY3RpdmVGb3JtOiAnRm9ybWF0dGluZyBhbmQgZGlzcGxheWluZyB0aGUgcmVzdWx0J31cblx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1dLFxuXHRcdFx0XHRtb2RlbDogJ2NsYXVkZS1zb25uZXQtNC0yMDI1MDUxNCdcblx0XHRcdH0sXG5cdFx0XHRzZXNzaW9uX2lkOiBleGFtcGxlU2Vzc2lvbklkLFxuXHRcdFx0dXVpZDogJ3RvZG8tdXBkYXRlLTAwMScsXG5cdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKClcblx0XHR9O1xuXHRcdHRoaXMuYWRkTWVzc2FnZSh0b2RvVXBkYXRlTWVzc2FnZSk7XG5cblx0XHQvLyA5LiBGaW5hbCByZXN1bHQgbWVzc2FnZVxuXHRcdGNvbnN0IGZpbmFsUmVzdWx0TWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG5cdFx0XHR0eXBlOiAncmVzdWx0Jyxcblx0XHRcdHJlc3VsdDogJ1RoZSBjdXJyZW50IGRhdGV0aW1lIGlzOiAqKldlZG5lc2RheSwgQXVndXN0IDI3LCAyMDI1IGF0IDk6NTQ6MTUgQU0gRURUKionLFxuXHRcdFx0c2Vzc2lvbl9pZDogZXhhbXBsZVNlc3Npb25JZCxcblx0XHRcdHV1aWQ6ICdmaW5hbC1yZXN1bHQtMDAxJyxcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKVxuXHRcdH07XG5cdFx0dGhpcy5hZGRNZXNzYWdlKGZpbmFsUmVzdWx0TWVzc2FnZSk7XG5cdH1cblxuXHRvcGVuU2V0dGluZ3MoKSB7XG5cdFx0Ly8gT3BlbiB0aGUgcGx1Z2luIHNldHRpbmdzIHRhYlxuXHRcdCh0aGlzLmFwcCBhcyBhbnkpLnNldHRpbmcub3BlbigpO1xuXHRcdCh0aGlzLmFwcCBhcyBhbnkpLnNldHRpbmcub3BlblRhYkJ5SWQoJ29ic2lkaWFuLXRlcm1pbmFsLWFpJyk7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdC8vIENsZWFudXAgd2hlbiB2aWV3IGlzIGNsb3NlZFxuXHRcdGlmICh0aGlzLmN1cnJlbnRDbGF1ZGVQcm9jZXNzKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRDbGF1ZGVQcm9jZXNzLmtpbGwoJ1NJR1RFUk0nKTtcblx0XHRcdHRoaXMuY3VycmVudENsYXVkZVByb2Nlc3MgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZVNldHRpbmdzKHNldHRpbmdzOiBBSUNoYXRTZXR0aW5ncykge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0fVxufSIsICJpbXBvcnQgeyBleGVjU3luYyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJztcblxuZXhwb3J0IGludGVyZmFjZSBDb21tYW5kUGF0aHMge1xuICAgIG5vZGU6IHN0cmluZztcbiAgICBjbGF1ZGU6IHN0cmluZztcbiAgICBpc1dTTD86IGJvb2xlYW47XG4gICAgd3NsUHJlZml4Pzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYW5kRGV0ZWN0b3Ige1xuICAgIHByaXZhdGUgc3RhdGljIGNhY2hlZFBhdGhzOiBDb21tYW5kUGF0aHMgfCBudWxsID0gbnVsbDtcblxuICAgIHN0YXRpYyBkZXRlY3RDb21tYW5kcyhub2RlT3ZlcnJpZGU/OiBzdHJpbmcsIGNsYXVkZU92ZXJyaWRlPzogc3RyaW5nKTogQ29tbWFuZFBhdGhzIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBvdmVycmlkZXMsIGRvbid0IHVzZSBjYWNoZVxuICAgICAgICBpZiAobm9kZU92ZXJyaWRlIHx8IGNsYXVkZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IG9zLnBsYXRmb3JtKCk7XG4gICAgICAgICAgICBjb25zdCBpc1dpbmRvd3MgPSBwbGF0Zm9ybSA9PT0gJ3dpbjMyJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGlzV2luZG93cyAmJiB0aGlzLmlzV1NMQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBXaW5kb3dzIHdpdGggV1NMLCBkZXRlY3QgaW5zaWRlIFdTTCBvciB1c2Ugb3ZlcnJpZGVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogbm9kZU92ZXJyaWRlIHx8IHRoaXMuZGV0ZWN0Tm9kZUluV1NMKCksXG4gICAgICAgICAgICAgICAgICAgIGNsYXVkZTogY2xhdWRlT3ZlcnJpZGUgfHwgdGhpcy5kZXRlY3RDbGF1ZGVJbldTTCgpLFxuICAgICAgICAgICAgICAgICAgICBpc1dTTDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3NsUHJlZml4OiBbJ3dzbCddXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaW5kb3dzICYmICF0aGlzLmlzV1NMQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXaW5kb3dzIHdpdGhvdXQgV1NMIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dTTCBpcyByZXF1aXJlZCBvbiBXaW5kb3dzLiBQbGVhc2UgaW5zdGFsbCBXU0wgdG8gdXNlIHRoaXMgcGx1Z2luLicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb3ZlcnJpZGVzIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UgZGV0ZWN0IChtYWNPUy9MaW51eClcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBub2RlOiBub2RlT3ZlcnJpZGUgfHwgdGhpcy5kZXRlY3ROb2RlKCksXG4gICAgICAgICAgICAgICAgICAgIGNsYXVkZTogY2xhdWRlT3ZlcnJpZGUgfHwgdGhpcy5kZXRlY3RDbGF1ZGUoKSxcbiAgICAgICAgICAgICAgICAgICAgaXNXU0w6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkUGF0aHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFBhdGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGxhdGZvcm0gPSBvcy5wbGF0Zm9ybSgpO1xuICAgICAgICBjb25zdCBpc1dpbmRvd3MgPSBwbGF0Zm9ybSA9PT0gJ3dpbjMyJztcbiAgICAgICAgXG4gICAgICAgIGlmIChpc1dpbmRvd3MgJiYgdGhpcy5pc1dTTEF2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICAvLyBPbiBXaW5kb3dzIHdpdGggV1NMLCBkZXRlY3QgY29tbWFuZHMgaW5zaWRlIFdTTCBlbnZpcm9ubWVudFxuICAgICAgICAgICAgY29uc3Qgbm9kZVBhdGggPSB0aGlzLmRldGVjdE5vZGVJbldTTCgpO1xuICAgICAgICAgICAgY29uc3QgY2xhdWRlUGF0aCA9IHRoaXMuZGV0ZWN0Q2xhdWRlSW5XU0woKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5jYWNoZWRQYXRocyA9IHtcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlUGF0aCxcbiAgICAgICAgICAgICAgICBjbGF1ZGU6IGNsYXVkZVBhdGgsXG4gICAgICAgICAgICAgICAgaXNXU0w6IHRydWUsXG4gICAgICAgICAgICAgICAgd3NsUHJlZml4OiBbJ3dzbCddXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGlzV2luZG93cyAmJiAhdGhpcy5pc1dTTEF2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICAvLyBXaW5kb3dzIHdpdGhvdXQgV1NMIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV1NMIGlzIHJlcXVpcmVkIG9uIFdpbmRvd3MuIFBsZWFzZSBpbnN0YWxsIFdTTCB0byB1c2UgdGhpcyBwbHVnaW4uJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb3JtYWwgZGV0ZWN0aW9uIGZvciBtYWNPUy9MaW51eFxuICAgICAgICAgICAgY29uc3Qgbm9kZVBhdGggPSB0aGlzLmRldGVjdE5vZGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGNsYXVkZVBhdGggPSB0aGlzLmRldGVjdENsYXVkZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmNhY2hlZFBhdGhzID0ge1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGVQYXRoLFxuICAgICAgICAgICAgICAgIGNsYXVkZTogY2xhdWRlUGF0aCxcbiAgICAgICAgICAgICAgICBpc1dTTDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZWRQYXRocztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBpc1dTTEF2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWNTeW5jKCd3c2wgLS1zdGF0dXMnLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBkZXRlY3ROb2RlSW5XU0woKTogc3RyaW5nIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIG5vZGUgdXNpbmcgd2hpY2ggaW5zaWRlIFdTTFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZXhlY1N5bmMoJ3dzbCAtLSB3aGljaCBub2RlJywgeyBlbmNvZGluZzogJ3V0ZjgnIH0pLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHt9XG5cbiAgICAgICAgLy8gVHJ5IGNvbW1vbiBMaW51eCBub2RlIHBhdGhzIGluc2lkZSBXU0xcbiAgICAgICAgY29uc3QgY29tbW9uUGF0aHMgPSBbXG4gICAgICAgICAgICAnL3Vzci9sb2NhbC9iaW4vbm9kZScsXG4gICAgICAgICAgICAnL3Vzci9iaW4vbm9kZScsXG4gICAgICAgICAgICAnfi8ubnZtL2N1cnJlbnQvYmluL25vZGUnLFxuICAgICAgICAgICAgJy91c3IvbG9jYWwvbm9kZWpzL2Jpbi9ub2RlJ1xuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZVBhdGggb2YgY29tbW9uUGF0aHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGV4ZWNTeW5jKGB3c2wgLS0gdGVzdCAtZiAke25vZGVQYXRofSAmJiBlY2hvIFwiZXhpc3RzXCJgLCB7IGVuY29kaW5nOiAndXRmOCcgfSkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXN0UmVzdWx0ID09PSAnZXhpc3RzJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZVBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJ5IHRvIGZpbmQgbnZtIHZlcnNpb25zXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBudm1WZXJzaW9ucyA9IGV4ZWNTeW5jKCd3c2wgLS0gbHMgLTEgfi8ubnZtL3ZlcnNpb25zL25vZGUvIDI+L2Rldi9udWxsIHwgc29ydCAtViB8IHRhaWwgLTEnLCB7IGVuY29kaW5nOiAndXRmOCcgfSkudHJpbSgpO1xuICAgICAgICAgICAgaWYgKG52bVZlcnNpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0Tm9kZVBhdGggPSBgfi8ubnZtL3ZlcnNpb25zL25vZGUvJHtudm1WZXJzaW9uc30vYmluL25vZGVgO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZXN1bHQgPSBleGVjU3luYyhgd3NsIC0tIHRlc3QgLWYgJHtsYXRlc3ROb2RlUGF0aH0gJiYgZWNobyBcImV4aXN0c1wiYCwgeyBlbmNvZGluZzogJ3V0ZjgnIH0pLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAodGVzdFJlc3VsdCA9PT0gJ2V4aXN0cycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhdGVzdE5vZGVQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuXG4gICAgICAgIHJldHVybiAnbm9kZSc7IC8vIEZhbGxiYWNrIHRvIGp1c3QgJ25vZGUnIGlmIG5vdGhpbmcgZWxzZSB3b3Jrc1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGRldGVjdENsYXVkZUluV1NMKCk6IHN0cmluZyB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZmluZCBjbGF1ZGUgdXNpbmcgd2hpY2ggaW5zaWRlIFdTTFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZXhlY1N5bmMoJ3dzbCAtLSB3aGljaCBjbGF1ZGUnLCB7IGVuY29kaW5nOiAndXRmOCcgfSkudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cblxuICAgICAgICAvLyBUcnkgY29tbW9uIExpbnV4IGNsYXVkZSBwYXRocyBpbnNpZGUgV1NMXG4gICAgICAgIGNvbnN0IGNvbW1vblBhdGhzID0gW1xuICAgICAgICAgICAgJy91c3IvbG9jYWwvYmluL2NsYXVkZScsXG4gICAgICAgICAgICAnfi8uY2xhdWRlL2xvY2FsL25vZGVfbW9kdWxlcy8uYmluL2NsYXVkZScsXG4gICAgICAgICAgICAnfi8ubnBtLWdsb2JhbC9iaW4vY2xhdWRlJyxcbiAgICAgICAgICAgICd+Ly5sb2NhbC9zaGFyZS9ucG0vYmluL2NsYXVkZSdcbiAgICAgICAgXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNsYXVkZVBhdGggb2YgY29tbW9uUGF0aHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGV4ZWNTeW5jKGB3c2wgLS0gdGVzdCAtZiAke2NsYXVkZVBhdGh9ICYmIGVjaG8gXCJleGlzdHNcImAsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRlc3RSZXN1bHQgPT09ICdleGlzdHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGF1ZGVQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyeSB0byBmaW5kIGNsYXVkZSBpbiBnbG9iYWwgbnBtIHByZWZpeFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbnBtUHJlZml4ID0gZXhlY1N5bmMoJ3dzbCAtLSBucG0gY29uZmlnIGdldCBwcmVmaXgnLCB7IGVuY29kaW5nOiAndXRmOCcgfSkudHJpbSgpO1xuICAgICAgICAgICAgaWYgKG5wbVByZWZpeCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbENsYXVkZVBhdGggPSBgJHtucG1QcmVmaXh9L2Jpbi9jbGF1ZGVgO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZXN1bHQgPSBleGVjU3luYyhgd3NsIC0tIHRlc3QgLWYgJHtnbG9iYWxDbGF1ZGVQYXRofSAmJiBlY2hvIFwiZXhpc3RzXCJgLCB7IGVuY29kaW5nOiAndXRmOCcgfSkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXN0UmVzdWx0ID09PSAnZXhpc3RzJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsQ2xhdWRlUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cblxuICAgICAgICByZXR1cm4gJ2NsYXVkZSc7IC8vIEZhbGxiYWNrIHRvIGp1c3QgJ2NsYXVkZScgaWYgbm90aGluZyBlbHNlIHdvcmtzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZGV0ZWN0Tm9kZSgpOiBzdHJpbmcge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZXhlY1N5bmMoJ3doaWNoIG5vZGUnLCB7IGVuY29kaW5nOiAndXRmOCcgfSkudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCB8fCAnbm9kZSc7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUGF0aHMgPSB0aGlzLmdldENvbW1vbk5vZGVQYXRocygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGVQYXRoIG9mIGNvbW1vblBhdGhzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMobm9kZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAnbm9kZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBkZXRlY3RDbGF1ZGUoKTogc3RyaW5nIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGV4ZWNTeW5jKCd3aGljaCBjbGF1ZGUnLCB7IGVuY29kaW5nOiAndXRmOCcgfSkudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCB8fCB0aGlzLmZpbmRDbGF1ZGVJbk5vZGVNb2R1bGVzKCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZENsYXVkZUluTm9kZU1vZHVsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGZpbmRDbGF1ZGVJbk5vZGVNb2R1bGVzKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGhvbWVEaXIgPSBvcy5ob21lZGlyKCk7XG4gICAgICAgIGNvbnN0IGNsYXVkZVBhdGhzID0gdGhpcy5nZXRDb21tb25DbGF1ZGVQYXRocyhob21lRGlyKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgY2xhdWRlUGF0aCBvZiBjbGF1ZGVQYXRocykge1xuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoY2xhdWRlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhdWRlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZ2xvYmFsTnBtUHJlZml4ID0gdGhpcy5nZXRHbG9iYWxOcG1QcmVmaXgoKTtcbiAgICAgICAgaWYgKGdsb2JhbE5wbVByZWZpeCkge1xuICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ2xhdWRlUGF0aCA9IHBhdGguam9pbihnbG9iYWxOcG1QcmVmaXgsICdiaW4nLCAnY2xhdWRlJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKGdsb2JhbENsYXVkZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbENsYXVkZVBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiAnY2xhdWRlJztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRHbG9iYWxOcG1QcmVmaXgoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZXhlY1N5bmMoJ25wbSBjb25maWcgZ2V0IHByZWZpeCcsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KS50cmltKCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRDb21tb25Ob2RlUGF0aHMoKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IG9zLnBsYXRmb3JtKCk7XG4gICAgICAgIGNvbnN0IGhvbWVEaXIgPSBvcy5ob21lZGlyKCk7XG4gICAgICAgIGNvbnN0IHBhdGhzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykge1xuICAgICAgICAgICAgcGF0aHMucHVzaChcbiAgICAgICAgICAgICAgICAnL3Vzci9sb2NhbC9iaW4vbm9kZScsXG4gICAgICAgICAgICAgICAgJy9vcHQvaG9tZWJyZXcvYmluL25vZGUnLFxuICAgICAgICAgICAgICAgICcvdXNyL2Jpbi9ub2RlJyxcbiAgICAgICAgICAgICAgICBwYXRoLmpvaW4oaG9tZURpciwgJy5udm0nLCAnY3VycmVudCcsICdiaW4nLCAnbm9kZScpXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTGludXggYW5kIG90aGVyIFVuaXgtbGlrZSBzeXN0ZW1zXG4gICAgICAgICAgICBwYXRocy5wdXNoKFxuICAgICAgICAgICAgICAgICcvdXNyL2xvY2FsL2Jpbi9ub2RlJyxcbiAgICAgICAgICAgICAgICAnL3Vzci9iaW4vbm9kZScsXG4gICAgICAgICAgICAgICAgcGF0aC5qb2luKGhvbWVEaXIsICcubnZtJywgJ2N1cnJlbnQnLCAnYmluJywgJ25vZGUnKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWRkIG52bSB2ZXJzaW9ucyBmb3IgYm90aCBtYWNPUyBhbmQgTGludXhcbiAgICAgICAgY29uc3QgbnZtVmVyc2lvbnNQYXRoID0gcGF0aC5qb2luKGhvbWVEaXIsICcubnZtJywgJ3ZlcnNpb25zJywgJ25vZGUnKTtcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMobnZtVmVyc2lvbnNQYXRoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9ucyA9IGZzLnJlYWRkaXJTeW5jKG52bVZlcnNpb25zUGF0aCkuc29ydCgpLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZlcnNpb24gb2YgdmVyc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aHMucHVzaChwYXRoLmpvaW4obnZtVmVyc2lvbnNQYXRoLCB2ZXJzaW9uLCAnYmluJywgJ25vZGUnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcGF0aHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0Q29tbW9uQ2xhdWRlUGF0aHMoaG9tZURpcjogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgICAvLyBPbmx5IFVuaXggcGF0aHMgc2luY2UgdGhpcyBpcyBvbmx5IGNhbGxlZCBmb3IgbWFjT1MvTGludXggKFdpbmRvd3MgdXNlcyBXU0wgZGV0ZWN0aW9uKVxuICAgICAgICBjb25zdCBwYXRoczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICBwYXRoLmpvaW4oaG9tZURpciwgJy5jbGF1ZGUnLCAnbG9jYWwnLCAnbm9kZV9tb2R1bGVzJywgJy5iaW4nLCAnY2xhdWRlJyksXG4gICAgICAgICAgICAnL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzLy5iaW4vY2xhdWRlJyxcbiAgICAgICAgICAgICcvdXNyL2xvY2FsL2Jpbi9jbGF1ZGUnLFxuICAgICAgICAgICAgcGF0aC5qb2luKGhvbWVEaXIsICcubnBtLWdsb2JhbCcsICdiaW4nLCAnY2xhdWRlJyksXG4gICAgICAgICAgICBwYXRoLmpvaW4oaG9tZURpciwgJy5sb2NhbCcsICdzaGFyZScsICducG0nLCAnYmluJywgJ2NsYXVkZScpXG4gICAgICAgIF07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcGF0aHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGNsZWFyQ2FjaGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FjaGVkUGF0aHMgPSBudWxsO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgQUlDaGF0UGx1Z2luIGZyb20gJy4vbWFpbic7XG5cbmV4cG9ydCBjbGFzcyBBSUNoYXRTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQUlDaGF0UGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEFJQ2hhdFBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnTm9kZS5qcyBsb2NhdGlvbicpXG5cdFx0XHQuc2V0RGVzYygnUGF0aCB0byBOb2RlLmpzIGV4ZWN1dGFibGUuIExlYXZlIGVtcHR5IHRvIGF1dG8tZGV0ZWN0LicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdBdXRvLWRldGVjdCAoZS5nLiwgL3Vzci9sb2NhbC9iaW4vbm9kZSknKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm9kZUxvY2F0aW9uIHx8ICcnKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mubm9kZUxvY2F0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0XHRcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdDbGF1ZGUgQ29kZSBsb2NhdGlvbicpXG5cdFx0XHQuc2V0RGVzYygnUGF0aCB0byBDbGF1ZGUgQ29kZSBleGVjdXRhYmxlLiBMZWF2ZSBlbXB0eSB0byBhdXRvLWRldGVjdC4nKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignQXV0by1kZXRlY3QgKGUuZy4sIH4vLmNsYXVkZS9sb2NhbC9ub2RlX21vZHVsZXMvLmJpbi9jbGF1ZGUpJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNsYXVkZUxvY2F0aW9uIHx8ICcnKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2xhdWRlTG9jYXRpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGVidWcgY29udGV4dCcpXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIGRlYnVnIGxvZ2dpbmcgZm9yIHRyb3VibGVzaG9vdGluZyAobG9ncyB0byBjb25zb2xlKS4nKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2ZhbHNlJywgJ0Rpc2FibGVkJylcblx0XHRcdFx0LmFkZE9wdGlvbigndHJ1ZScsICdFbmFibGVkJylcblx0XHRcdFx0LnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Z0NvbnRleHQgfHwgZmFsc2UpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVidWdDb250ZXh0ID0gdmFsdWUgPT09ICd0cnVlJztcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdH1cbn0iLCAiZXhwb3J0IGludGVyZmFjZSBBSUNoYXRTZXR0aW5ncyB7XG5cdG5vZGVMb2NhdGlvbj86IHN0cmluZztcblx0Y2xhdWRlTG9jYXRpb24/OiBzdHJpbmc7XG5cdGRlYnVnQ29udGV4dD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBBSUNoYXRTZXR0aW5ncyA9IHtcblx0bm9kZUxvY2F0aW9uOiAnJyxcblx0Y2xhdWRlTG9jYXRpb246ICcnLFxuXHRkZWJ1Z0NvbnRleHQ6IGZhbHNlXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBc0M7OztBQ0F0QyxzQkFBaUQ7QUFFakQsSUFBQUMsd0JBQW9DOzs7QUNGcEMsMkJBQXlCO0FBQ3pCLFdBQXNCO0FBQ3RCLFNBQW9CO0FBQ3BCLFNBQW9CO0FBU2IsSUFBTSxrQkFBTixNQUFzQjtBQUFBLEVBR3pCLE9BQU8sZUFBZSxjQUF1QixnQkFBdUM7QUFFaEYsUUFBSSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDLFlB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ckUsWUFBWSxjQUFZLFNBQ3ZCLFVBQVUsU0FBUyxVQUFVLEVBQzdCLFVBQVUsUUFBUSxTQUFTLEVBQzNCLFNBQVMsT0FBTyxLQUFLLE9BQU8sU0FBUyxnQkFBZ0IsS0FBSyxDQUFDLEVBQzNELFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGVBQWUsVUFBVTtBQUM5QyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBQUEsRUFFTDtBQUNEOzs7QUM3Q08sSUFBTSxtQkFBbUM7QUFBQSxFQUMvQyxjQUFjO0FBQUEsRUFDZCxnQkFBZ0I7QUFBQSxFQUNoQixjQUFjO0FBQ2Y7OztBSkxBLElBQXFCLGVBQXJCLGNBQTBDLHdCQUFPO0FBQUEsRUFHaEQsTUFBTSxTQUFTO0FBQ2QsVUFBTSxLQUFLLGFBQWE7QUFHeEIsU0FBSztBQUFBLE1BQ0o7QUFBQSxNQUNBLENBQUMsU0FBUyxJQUFJLFdBQVcsTUFBTSxLQUFLLFFBQVE7QUFBQSxJQUM3QztBQUdBLFFBQUksS0FBSyxJQUFJLFVBQVUsYUFBYTtBQUNuQyxZQUFNLEtBQUssYUFBYTtBQUFBLElBQ3pCLE9BQU87QUFDTixXQUFLLElBQUksVUFBVSxjQUFjLFlBQVk7QUFDNUMsY0FBTSxLQUFLLGFBQWE7QUFBQSxNQUN6QixDQUFDO0FBQUEsSUFDRjtBQUlBLFNBQUssY0FBYyxJQUFJLGlCQUFpQixLQUFLLEtBQUssSUFBSSxDQUFDO0FBQUEsRUFDeEQ7QUFBQSxFQUVBLFdBQVc7QUFFVixTQUFLLElBQUksVUFBVSxtQkFBbUIsaUJBQWlCO0FBQUEsRUFDeEQ7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFFM0IsUUFBSSxPQUE2QjtBQUNqQyxVQUFNLFNBQVMsVUFBVSxnQkFBZ0IsaUJBQWlCO0FBRTFELFFBQUksT0FBTyxTQUFTLEdBQUc7QUFFdEIsYUFBTyxPQUFPLENBQUM7QUFBQSxJQUNoQixPQUFPO0FBRU4sYUFBTyxVQUFVLGFBQWEsS0FBSztBQUNuQyxVQUFJLE1BQU07QUFDVCxjQUFNLEtBQUssYUFBYSxFQUFFLE1BQU0sbUJBQW1CLFFBQVEsS0FBSyxDQUFDO0FBQUEsTUFDbEU7QUFBQSxJQUNEO0FBR0EsUUFBSSxNQUFNO0FBQ1QsZ0JBQVUsV0FBVyxJQUFJO0FBQUEsSUFDMUI7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfY2hpbGRfcHJvY2VzcyIsICJwbGF0Zm9ybSIsICJpc1dpbmRvd3MiLCAiaW1wb3J0X29ic2lkaWFuIl0KfQo=
